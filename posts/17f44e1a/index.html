<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)">
<meta name="generator" content="Hexo 5.4.1">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/ye_32.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/ye_16.ico">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"www.yexiang.ml","root":"/","images":"/images","scheme":"Gemini","darkmode":true,"version":"8.8.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"gitalk","storage":true,"lazyload":false,"nav":{"gitalk":{"order":-1}},"activeClass":"gitalk"},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js"></script>
<meta name="description" content="遇到过精巧的算法设计">
<meta property="og:type" content="article">
<meta property="og:title" content="Algorithm">
<meta property="og:url" content="https://www.yexiang.ml/posts/17f44e1a/index.html">
<meta property="og:site_name" content="Ye, Xiang&#39;s Blog">
<meta property="og:description" content="遇到过精巧的算法设计">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2021-12-17T08:26:10.000Z">
<meta property="article:modified_time" content="2022-07-10T02:45:45.551Z">
<meta property="article:author" content="Xiang Ye">
<meta property="article:tag" content="Algorithm">
<meta property="article:tag" content="Programming">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://www.yexiang.ml/posts/17f44e1a/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"https://www.yexiang.ml/posts/17f44e1a/","path":"posts/17f44e1a/","title":"Algorithm"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Algorithm | Ye, Xiang's Blog</title>
  




  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">Ye, Xiang's Blog</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li>
        <li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a></li>
        <li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li>
        <li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li>
  </ul>
</nav>




</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#backtrack"><span class="nav-text">1.  Backtrack</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#n-queens-ii-font-colormagenta2022-06-20font"><span class="nav-text">1.1.  N-Queens II [2022-06-20]</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#wide-first-search"><span class="nav-text">2.  Wide First Search</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#count-complete-tree-nodes-font-colormagenta2022-07-01font"><span class="nav-text">2.1.  Count Complete Tree Nodes [2022-07-01]</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#depth-first-search"><span class="nav-text">3.  Depth First Search</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#closest-dessert-cost-font-colormagenta2022-06-30font"><span class="nav-text">3.1.  Closest Dessert Cost [2022-06-30]</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#find-all-possible-recipes-from-given-supplies-font-colormagenta2022-06-24font"><span class="nav-text">3.2.  Find All Possible Recipes from Given Supplies [2022-06-24]</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#longest-increasing-path-in-a-matrix"><span class="nav-text">3.3.  Longest Increasing Path in a Matrix</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#keyboard"><span class="nav-text">3.4.  Keyboard</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#method-1-dfs"><span class="nav-text">3.4.1.  Method 1: dfs</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#method-2-dynamic-programming"><span class="nav-text">3.4.2.  Method 2: dynamic programming</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#dynamic-programming"><span class="nav-text">4.  Dynamic Programming</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#find-two-non-overlapping-sub-arrays-each-with-target-sum-font-colormagenta2022-07-07font"><span class="nav-text">4.1.  Find Two Non-overlapping Sub-arrays Each With Target Sum [2022-07-07]</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#minimum-one-bit-operations-to-make-integers-zero-font-colormagenta2022-06-27font"><span class="nav-text">4.2.  Minimum One Bit Operations to Make Integers Zero [2022-06-27]</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#the-number-of-palindromes"><span class="nav-text">4.3.  The number of palindromes</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#knight-dialer"><span class="nav-text">4.4.  Knight Dialer</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#linked-list"><span class="nav-text">5.  Linked List</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#find-the-minimum-and-maximum-number-of-nodes-between-critical-points-font-colormagenta2022-06-18font"><span class="nav-text">5.1.  Find The Minimum and Maximum Number of Nodes Between Critical Points [2022-06-18]</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#reverse-a-linked-list-font-colormagenta2022-06-16font"><span class="nav-text">5.2.  Reverse a Linked List [2022-06-16]</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#reverse-nodes-in-k-group-font-colormagenta2022-06-10font"><span class="nav-text">5.3.  Reverse Nodes in K-Group [2022-06-10]</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#palindrome-linked-list"><span class="nav-text">5.4.  Palindrome Linked List</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#string"><span class="nav-text">6.  String</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#strong-password-checker-ii-font-colormagenta2022-06-22font"><span class="nav-text">6.1.  Strong Password Checker II [2022-06-22]</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#minimum-changes-to-make-alternating-binary-string"><span class="nav-text">6.2.  Minimum Changes to Make Alternating Binary String</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#sort"><span class="nav-text">7.  Sort</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#relative-rank-font-colormagenta2022-06-28font"><span class="nav-text">7.1.  Relative Rank [2022-06-28]</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#sort-integers-by-the-number-of-1-bits-font-colormagenta2022-06-16font"><span class="nav-text">7.2.  Sort Integers by the Number of 1 Bits [2022-06-16]</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#k-highest-ranked-items-within-a-price-range-font-colormagenta2022-06-13font"><span class="nav-text">7.3.  K Highest Ranked Items Within a Price Range [2022-06-13]</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#wiggle-sort-2"><span class="nav-text">7.4.  Wiggle Sort 2</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#rank-teams-by-votes"><span class="nav-text">7.5.  Rank Teams by Votes</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#number-game"><span class="nav-text">7.6.  Number Game</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#analysis"><span class="nav-text">7.6.1.  Analysis</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#dichotomy"><span class="nav-text">8.  Dichotomy</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#minimum-garden-perimeter-to-collect-enough-apples-font-colormagenta2022-06-22font"><span class="nav-text">8.1.  Minimum Garden Perimeter to Collect Enough Apples [2022-06-22]</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#greedy"><span class="nav-text">9.  Greedy</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#time-needed-to-buy-tickets-font-colormagenta2022-07-10font"><span class="nav-text">9.1.  Time Needed To Buy Tickets [2022-07-10]</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#form-array-by-concatenating-sub-arrays-in-another-array-font-colormagenta2022-07-09font"><span class="nav-text">9.2.  Form Array by Concatenating Sub-arrays in Another Array [2022-07-09]</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#longest-chunked-palindrome-decomposition-font-colormagenta2022-06-19font"><span class="nav-text">9.3.  Longest Chunked Palindrome Decomposition [2022-06-19]</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#orderly-queue-font-colormagenta2022-06-17font"><span class="nav-text">9.4.  Orderly Queue [2022-06-17]</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#brute-force-search"><span class="nav-text">10.  Brute Force Search</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#non-overlapping-intervals-font-colormagenta2022-07-08font"><span class="nav-text">10.1.  Non-overlapping Intervals [2022-07-08]</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#longest-nice-substring-font-colormagenta2022-07-05font"><span class="nav-text">10.2.  Longest Nice Substring [2022-07-05]</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#number-of-string-that-appear-as-substrings-in-word-font-colormagenta2022-06-17font"><span class="nav-text">10.3.  Number of String That Appear as Substrings in Word [2022-06-17]</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#coordinate-with-maximum-network-quality-font-colormagenta2022-05-10font"><span class="nav-text">10.4.  Coordinate with Maximum Network Quality [2022-05-10]</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#analysis-2"><span class="nav-text">10.4.1.  Analysis</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#flip-the-char"><span class="nav-text">11.  Flip the Char</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#flip-the-char-font-colormagenta2022-06-16font"><span class="nav-text">11.1.  Flip the Char [2022-06-16]</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#stack"><span class="nav-text">12.  Stack</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#valid-parentheses-font-colormagenta2022-06-17font"><span class="nav-text">12.1.  Valid Parentheses [2022-06-17]</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#other"><span class="nav-text">13.  Other</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#minimum-cost-to-set-cooking-time-font-colormagenta2022-06-29font"><span class="nav-text">13.1.  Minimum Cost to Set Cooking Time [2022-06-29]</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#random-pick-with-weight-font-colormagenta2022-06-26font"><span class="nav-text">13.2.  Random Pick with Weight [2022-06-26]</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#intersections-of-two-arrays-ii-font-colormagenta2022-06-25font"><span class="nav-text">13.3.  Intersections of Two Arrays II [2022-06-25]</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#check-if-there-is-a-valid-path-in-a-grid-font-colormagenta2022-06-21font"><span class="nav-text">13.4.  Check if There is a Valid Path in a Grid [2022-06-21]</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#find-k-th-smallest-pair-distance-font-colormagenta2022-07-06font"><span class="nav-text">13.5.  Find K-th Smallest Pair distance [2022-07-06]</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#maximum-number-of-visible-points-font-colormagenta2022-06-19font"><span class="nav-text">13.6.  Maximum Number of Visible Points [2022-06-19]</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#number-of-different-integers-in-a-string-font-colormagenta2022-06-17font"><span class="nav-text">13.7.  Number of Different Integers in a String [2022-06-17]</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#max-length-of-pair-chain-font-colormagenta2022-06-16font"><span class="nav-text">13.8.  Max Length of Pair Chain [2022-06-16]</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#two-city-scheduling-font-colormagenta2022-06-16font"><span class="nav-text">13.9.  Two City Scheduling [2022-06-16]</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#exchange-lcci-font-colormagenta2022-06-16font"><span class="nav-text">13.10.  Exchange LCCI [2022-06-16]</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#the-first-char-which-only-appears-once-font-colormagenta2022-06-16font"><span class="nav-text">13.11.  The First Char which Only Appears once [2022-06-16]</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#the-gas-station"><span class="nav-text">13.12.  The Gas Station</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#maximum-number-of-tasks-you-can-assign-font-colormagenta2022-05-11font"><span class="nav-text">13.13.  Maximum Number of Tasks You Can Assign [2022-05-11]</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#analysis-3"><span class="nav-text">13.13.1.  Analysis</span></a></li></ol></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Xiang Ye"
      src="/images/avatar_100.jpg">
  <p class="site-author-name" itemprop="name">Xiang Ye</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">21</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">25</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">27</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/xyegithub" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;xyegithub" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:xye@bupt.edu.cn" title="E-Mail → mailto:xye@bupt.edu.cn" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="https://www.yexiang.ml/posts/17f44e1a/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar_100.jpg">
      <meta itemprop="name" content="Xiang Ye">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ye, Xiang's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Algorithm
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2021-12-17 16:26:10" itemprop="dateCreated datePublished" datetime="2021-12-17T16:26:10+08:00">2021-12-17</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2022-07-10 10:45:45" itemprop="dateModified" datetime="2022-07-10T10:45:45+08:00">2022-07-10</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Programming/" itemprop="url" rel="index"><span itemprop="name">Programming</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Programming/Algorithm/" itemprop="url" rel="index"><span itemprop="name">Algorithm</span></a>
        </span>
    </span>

  
</div>

            <div class="post-description">遇到过精巧的算法设计</div>
        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <html><head></head><body><h1 id="backtrack"><span class="post-title-index">1. </span><a class="markdownIt-Anchor" href="#backtrack"></a> Backtrack</h1>
<p>We can cope with only simple tasks. But there is only a complex task.</p>
<p>If we can transfer it into a relative simpler one, do it again and again till we
can cope with it.</p>
<p>When transfer, the simpler task may have some relationship with the complex one,
e.g., the complex task gives some restrictions to to the simpler one.</p>
<h2 id="n-queens-ii-font-colormagenta2022-06-20font"><span class="post-title-index">1.1. </span><a class="markdownIt-Anchor" href="#n-queens-ii-font-colormagenta2022-06-20font"></a> N-Queens II <font color="magenta">[2022-06-20]</font></h2>
<p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/n-queens-ii/">Hard</a></p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">totalNQueens</span>(<span class="params">self, n: <span class="built_in">int</span></span>) -&gt; <span class="built_in">int</span>:</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">backtrack</span>(<span class="params">row: <span class="built_in">int</span></span>) -&gt; <span class="built_in">int</span>:</span></span><br><span class="line">            <span class="comment"># fill the row</span></span><br><span class="line">            <span class="comment"># two kinds of return</span></span><br><span class="line"></span><br><span class="line">            <span class="comment"># when row == n, the last row (n - 1) is filled</span></span><br><span class="line">            <span class="comment"># thus it must be only 1 solution to reach here so return 1</span></span><br><span class="line"></span><br><span class="line">            <span class="comment"># if row &lt; n - 1, the solution there is may be multiple solutions</span></span><br><span class="line">            <span class="comment"># clear the count (count = 0), then find the number of solutions</span></span><br><span class="line">            <span class="comment"># and return it</span></span><br><span class="line"></span><br><span class="line">            <span class="comment"># thus this function calculates the number of  solutions when the first</span></span><br><span class="line">            <span class="comment"># row - 1 rows is filled, how they are filled are recorded by columns,</span></span><br><span class="line">            <span class="comment"># diagonal1 and giagonal2</span></span><br><span class="line"></span><br><span class="line">            <span class="comment"># two key points:</span></span><br><span class="line">            <span class="comment"># 1. How the backtrack end: that is the condition return 1</span></span><br><span class="line">            <span class="comment"># 2. How to transfer the task to a smaller one, that is else.</span></span><br><span class="line"></span><br><span class="line">            <span class="comment"># we can crop it if  and only if row == n, thus we only need</span></span><br><span class="line">            <span class="comment"># to transfer the task to a simpler one till we can crop it</span></span><br><span class="line">            <span class="keyword">if</span> row == n:</span><br><span class="line">                <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                count = <span class="number">0</span></span><br><span class="line">                <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">                    <span class="comment"># i is the columns if it is used continue</span></span><br><span class="line">                    <span class="comment"># two position A and B, if their row -/+ i is the same number</span></span><br><span class="line">                    <span class="comment"># they are in one diagonal then continue</span></span><br><span class="line">                    <span class="keyword">if</span> i <span class="keyword">in</span> columns <span class="keyword">or</span> row - i <span class="keyword">in</span> diagonal1 <span class="keyword">or</span> row + i <span class="keyword">in</span> diagonal2:</span><br><span class="line">                        <span class="keyword">continue</span></span><br><span class="line">                    columns.add(i)</span><br><span class="line">                    diagonal1.add(row - i)</span><br><span class="line">                    diagonal2.add(row + i)</span><br><span class="line">                    count += backtrack(row + <span class="number">1</span>)</span><br><span class="line">                    columns.remove(i)</span><br><span class="line">                    diagonal1.remove(row - i)</span><br><span class="line">                    diagonal2.remove(row + i)</span><br><span class="line">                <span class="keyword">return</span> count</span><br><span class="line"></span><br><span class="line">        columns = <span class="built_in">set</span>()</span><br><span class="line">        diagonal1 = <span class="built_in">set</span>()</span><br><span class="line">        diagonal2 = <span class="built_in">set</span>()</span><br><span class="line">        <span class="keyword">return</span> backtrack(<span class="number">0</span>)</span><br></pre></td></tr></tbody></table></figure>
<h1 id="wide-first-search"><span class="post-title-index">2. </span><a class="markdownIt-Anchor" href="#wide-first-search"></a> Wide First Search</h1>
<h2 id="count-complete-tree-nodes-font-colormagenta2022-07-01font"><span class="post-title-index">2.1. </span><a class="markdownIt-Anchor" href="#count-complete-tree-nodes-font-colormagenta2022-07-01font"></a> Count Complete Tree Nodes <font color="magenta">[2022-07-01]</font></h2>
<p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/count-complete-tree-nodes/">Medium</a></p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"># class TreeNode:</span></span><br><span class="line"><span class="comment">#     def __init__(self, val=0, left=None, right=None):</span></span><br><span class="line"><span class="comment">#         self.val = val</span></span><br><span class="line"><span class="comment">#         self.left = left</span></span><br><span class="line"><span class="comment">#         self.right = right</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">countNodes</span>(<span class="params">self, root: TreeNode</span>) -&gt; <span class="built_in">int</span>:</span></span><br><span class="line">        res = [<span class="number">1</span>, <span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">wide_first_search</span>(<span class="params">cur_nodes</span>):</span></span><br><span class="line">            res[<span class="number">0</span>] += <span class="number">1</span></span><br><span class="line">            nex_nodes = []</span><br><span class="line">            flag = <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> cur_nodes:</span><br><span class="line">                <span class="keyword">if</span> i.left <span class="keyword">and</span> i.right:</span><br><span class="line">                    nex_nodes.append(i.left)</span><br><span class="line">                    nex_nodes.append(i.right)</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    flag = <span class="literal">False</span></span><br><span class="line">                    res[<span class="number">1</span>] = <span class="built_in">len</span>(nex_nodes)</span><br><span class="line">                    <span class="keyword">if</span> i.left <span class="keyword">or</span> i.right:</span><br><span class="line">                        res[<span class="number">1</span>] += <span class="number">1</span></span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">if</span> flag:</span><br><span class="line">                wide_first_search(nex_nodes)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>  <span class="keyword">not</span> root:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        wide_first_search([root])</span><br><span class="line">        <span class="keyword">return</span> <span class="number">2</span> ** (res[<span class="number">0</span>] - <span class="number">1</span>) -<span class="number">1</span> + res[<span class="number">1</span>]</span><br></pre></td></tr></tbody></table></figure>
<h1 id="depth-first-search"><span class="post-title-index">3. </span><a class="markdownIt-Anchor" href="#depth-first-search"></a> Depth First Search</h1>
<h2 id="closest-dessert-cost-font-colormagenta2022-06-30font"><span class="post-title-index">3.1. </span><a class="markdownIt-Anchor" href="#closest-dessert-cost-font-colormagenta2022-06-30font"></a> Closest Dessert Cost <font color="magenta">[2022-06-30]</font></h2>
<p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/closest-dessert-cost/">Medium</a></p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">closestCost</span>(<span class="params">self, baseCosts: <span class="type">List</span>[<span class="built_in">int</span>], toppingCosts: <span class="type">List</span>[<span class="built_in">int</span>], target: <span class="built_in">int</span></span>) -&gt; <span class="built_in">int</span>:</span></span><br><span class="line">        baseCosts.sort()</span><br><span class="line">        toppingCosts.sort()</span><br><span class="line">        res = []</span><br><span class="line">        cost = <span class="number">0</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">check_cost</span>(<span class="params">cost</span>):</span></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> res:</span><br><span class="line">                min_distance = <span class="built_in">float</span>(<span class="string">'inf'</span>)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                min_distance = <span class="built_in">abs</span>(target - res[-<span class="number">1</span>])</span><br><span class="line">            distance = <span class="built_in">abs</span>(target - cost)</span><br><span class="line">            <span class="keyword">if</span> distance &lt; min_distance:</span><br><span class="line">                res.clear()</span><br><span class="line">                res.append(cost)</span><br><span class="line">            <span class="keyword">if</span> distance == min_distance:</span><br><span class="line">                res.append(cost)</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">choose_cur</span>(<span class="params">j, cost</span>):</span></span><br><span class="line">            <span class="keyword">if</span> j == <span class="built_in">len</span>(toppingCosts):</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">            price = toppingCosts[j]</span><br><span class="line">            choose_cur(j + <span class="number">1</span>, cost)</span><br><span class="line"></span><br><span class="line">            check_cost(cost + price)</span><br><span class="line">            choose_cur(j + <span class="number">1</span>, cost + price)</span><br><span class="line"></span><br><span class="line">            check_cost(cost + <span class="number">2</span> * price)</span><br><span class="line">            choose_cur(j + <span class="number">1</span>, cost + <span class="number">2</span> * price)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> baseCosts:</span><br><span class="line">            cost = i</span><br><span class="line">            check_cost(cost)</span><br><span class="line">            choose_cur(<span class="number">0</span>, cost)</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">min</span>(res)</span><br></pre></td></tr></tbody></table></figure>
<h2 id="find-all-possible-recipes-from-given-supplies-font-colormagenta2022-06-24font"><span class="post-title-index">3.2. </span><a class="markdownIt-Anchor" href="#find-all-possible-recipes-from-given-supplies-font-colormagenta2022-06-24font"></a> Find All Possible Recipes from Given Supplies <font color="magenta">[2022-06-24]</font></h2>
<p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/find-all-possible-recipes-from-given-supplies/">Medium</a></p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findAllRecipes</span>(<span class="params">self, recipes: <span class="type">List</span>[<span class="built_in">str</span>], ingredients: <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">str</span>]], supplies: <span class="type">List</span>[<span class="built_in">str</span>]</span>) -&gt; <span class="type">List</span>[<span class="built_in">str</span>]:</span></span><br><span class="line">        res = []</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">remove_cur</span>(<span class="params">cur_supplies</span>):</span></span><br><span class="line">            nex_supplies = <span class="built_in">set</span>()</span><br><span class="line">            <span class="keyword">for</span> i, cur_ingredients <span class="keyword">in</span> <span class="built_in">enumerate</span>(ingredients):</span><br><span class="line">                <span class="keyword">if</span> cur_ingredients:</span><br><span class="line">                   <span class="comment"># Be careful. How to remove items in a loop</span></span><br><span class="line">                    <span class="comment"># https://segmentfault.com/a/1190000007214571</span></span><br><span class="line">                    cur_ingredients = <span class="built_in">list</span>(<span class="built_in">filter</span>(<span class="keyword">lambda</span> x: x <span class="keyword">not</span> <span class="keyword">in</span> cur_supplies, cur_ingredients))</span><br><span class="line">                    ingredients[i] = cur_ingredients</span><br><span class="line">                    <span class="keyword">if</span> <span class="keyword">not</span> cur_ingredients:</span><br><span class="line">                        nex_supplies.add(recipes[i])</span><br><span class="line">                        res.append(recipes[i])</span><br><span class="line">                        recipes[i] = <span class="literal">None</span></span><br><span class="line">                        ingredients[i] = <span class="literal">None</span></span><br><span class="line">            <span class="keyword">return</span> nex_supplies</span><br><span class="line"></span><br><span class="line">        supplies = <span class="built_in">set</span>(supplies)</span><br><span class="line">        <span class="keyword">while</span> supplies:</span><br><span class="line">            supplies = remove_cur(supplies)</span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></tbody></table></figure>
<h2 id="longest-increasing-path-in-a-matrix"><span class="post-title-index">3.3. </span><a class="markdownIt-Anchor" href="#longest-increasing-path-in-a-matrix"></a> Longest Increasing Path in a Matrix</h2>
<p>Given an <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi><mo>×</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">m \times n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">m</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span> integers matrix, return the length of the longest
increasing path in matrix.</p>
<p>Move direction: left, right, up, or down.</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line"></span><br><span class="line">    DIRS = [(-<span class="number">1</span>, <span class="number">0</span>), (<span class="number">1</span>, <span class="number">0</span>), (<span class="number">0</span>, -<span class="number">1</span>), (<span class="number">0</span>, <span class="number">1</span>)]</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">longestIncreasingPath</span>(<span class="params">self, matrix: <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">int</span>]]</span>) -&gt; <span class="built_in">int</span>:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> matrix:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="meta">        @lru_cache(<span class="params"><span class="literal">None</span></span>) </span><span class="comment"># save  the storage</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">find_max</span>(<span class="params">i, j</span>):</span></span><br><span class="line">        <span class="comment"># find the next value and try the four directions</span></span><br><span class="line">        <span class="comment"># return the longest direction.</span></span><br><span class="line">            max_ = <span class="number">1</span></span><br><span class="line">            <span class="keyword">for</span> dr <span class="keyword">in</span> Solution.DIRS:</span><br><span class="line">                try_i = i + dr[<span class="number">0</span>]</span><br><span class="line">                try_j = j + dr[<span class="number">1</span>]</span><br><span class="line">                <span class="comment"># the direction will be discarded if do not meet the condition</span></span><br><span class="line">                <span class="comment"># and a direction meet the condition will be searched for the next</span></span><br><span class="line">                <span class="comment"># value first.</span></span><br><span class="line">                <span class="keyword">if</span> <span class="number">0</span> &lt;= try_i <span class="keyword">and</span> try_i &lt; n <span class="keyword">and</span> <span class="number">0</span>&lt;= try_j <span class="keyword">and</span> try_j &lt; m <span class="keyword">and</span> \</span><br><span class="line">                matrix[i][j] &lt; matrix[try_i][try_j]:</span><br><span class="line">                    max_ = <span class="built_in">max</span>(max_, find_max(try_i, try_j) + <span class="number">1</span>)</span><br><span class="line">                    <span class="comment"># The value is increasing, so by setting `matrix[i][j] \</span></span><br><span class="line">                    <span class="comment"># &lt; matrix[try_i][try_j]`, a searched position will never</span></span><br><span class="line">                    <span class="comment"># be searched again.</span></span><br><span class="line">            <span class="keyword">return</span> max_</span><br><span class="line"></span><br><span class="line">        n, m = <span class="built_in">len</span>(matrix), <span class="built_in">len</span>(matrix[<span class="number">0</span>])</span><br><span class="line">        res = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span>  <span class="built_in">range</span>(m):</span><br><span class="line">                res = <span class="built_in">max</span>(res, find_max(i, j))</span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<h2 id="keyboard"><span class="post-title-index">3.4. </span><a class="markdownIt-Anchor" href="#keyboard"></a> Keyboard</h2>
<p>A keyboard only have 26 keys, <code>a~z</code>. Each key can be only typed <code>k</code> times at
most.</p>
<p>How many possible content there is, when the keyboard is typed <code>n</code> times?</p>
<h3 id="method-1-dfs"><span class="post-title-index">3.4.1. </span><a class="markdownIt-Anchor" href="#method-1-dfs"></a> Method 1: dfs</h3>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">   <span class="comment"># depth first search: from the first letter to the last letter</span></span><br><span class="line">   <span class="comment"># fill the n positions.</span></span><br><span class="line">   <span class="function"><span class="keyword">def</span> <span class="title">keyboard</span>(<span class="params">self, k: <span class="built_in">int</span>, n: <span class="built_in">int</span></span>) -&gt; <span class="built_in">int</span>:</span></span><br><span class="line">       MOD = <span class="number">1000000007</span></span><br><span class="line"></span><br><span class="line">       <span class="comment"># c is the number of remain letters</span></span><br><span class="line">       <span class="comment"># n is the number of letters needed to type in</span></span><br><span class="line">       <span class="comment"># k is the max number that each letter can type</span></span><br><span class="line"><span class="meta">       @lru_cache(<span class="params"><span class="literal">None</span></span>)</span></span><br><span class="line">       <span class="function"><span class="keyword">def</span> <span class="title">dfs</span>(<span class="params">c, n, k</span>):</span></span><br><span class="line">           <span class="keyword">if</span> n == <span class="number">0</span>:</span><br><span class="line">               <span class="comment"># no letters is needed any more</span></span><br><span class="line">               <span class="comment"># only 1 way: type nothing</span></span><br><span class="line">               <span class="comment"># pick 0 letters</span></span><br><span class="line">               <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">           <span class="keyword">if</span> c &lt;= <span class="number">0</span>:</span><br><span class="line">               <span class="comment"># no letter remained but n is not 0</span></span><br><span class="line">               <span class="comment"># this is a failed type scheme</span></span><br><span class="line">               <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">           res = <span class="number">0</span></span><br><span class="line">           <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="built_in">min</span>(n, k) + <span class="number">1</span>):</span><br><span class="line">           <span class="comment"># there are math.comb(n, i) ways to put i letters</span></span><br><span class="line">           <span class="comment"># into n position.</span></span><br><span class="line">               res += math.comb(n, i) * dfs(c-<span class="number">1</span>, n - i, k) % MOD</span><br><span class="line">           <span class="keyword">return</span> res % MOD</span><br><span class="line">       ans = dfs(<span class="number">26</span>, n, k)</span><br><span class="line">       <span class="keyword">return</span> ans % MOD</span><br></pre></td></tr></tbody></table></figure>
<h3 id="method-2-dynamic-programming"><span class="post-title-index">3.4.2. </span><a class="markdownIt-Anchor" href="#method-2-dynamic-programming"></a> Method 2: dynamic programming</h3>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">keyboard</span>(<span class="params">self, k: <span class="built_in">int</span>, n: <span class="built_in">int</span></span>) -&gt; <span class="built_in">int</span>:</span></span><br><span class="line">        MOD = <span class="number">1000000007</span></span><br><span class="line">        res = [[<span class="number">0</span> <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">27</span>)] <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(n + <span class="number">1</span>)]</span><br><span class="line">        <span class="comment"># res[i][j] is the number of possibilities when first j letters</span></span><br><span class="line">        <span class="comment"># is used to fill i positions.</span></span><br><span class="line">        <span class="comment"># when the position is 0, no matter how many letters are used.</span></span><br><span class="line">        <span class="comment"># there is only one possibility, i.e., filling nothing.</span></span><br><span class="line">        <span class="comment"># thus, res[0][i] are all 1.</span></span><br><span class="line">        res[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">27</span>):</span><br><span class="line">            res[<span class="number">0</span>][i] = <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># res[i][j] can be divided into several possibilities.</span></span><br><span class="line">        <span class="comment"># When 0 letter is filled for the $j^{th}$ letter, res[i][j-1]</span></span><br><span class="line">        <span class="comment"># when 1 letter is filled for the j-th letter, res[i-1][j-1]</span></span><br><span class="line">        <span class="comment"># * C_i^1</span></span><br><span class="line">        <span class="comment"># when 2 letters are filled for the j-th letter, res[i-2][j-1]</span></span><br><span class="line">        <span class="comment"># * C_i^2</span></span><br><span class="line">        <span class="comment"># C_i^m represent how many possibilities there are filling m of</span></span><br><span class="line">        <span class="comment"># the same letters into i positions.</span></span><br><span class="line">        <span class="comment"># m can be 0, but can not be larger than k or i.</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, n + <span class="number">1</span>):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">27</span>):</span><br><span class="line">                <span class="keyword">for</span> m <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">min</span>(i + <span class="number">1</span>, k + <span class="number">1</span>)):</span><br><span class="line">                    res[i][j] += res[i - m][j - <span class="number">1</span>] * math.comb(i, m)</span><br><span class="line">                    res[i][j] %= MOD</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> res[-<span class="number">1</span>][-<span class="number">1</span>] % MOD</span><br></pre></td></tr></tbody></table></figure>
<h1 id="dynamic-programming"><span class="post-title-index">4. </span><a class="markdownIt-Anchor" href="#dynamic-programming"></a> Dynamic Programming</h1>
<h2 id="find-two-non-overlapping-sub-arrays-each-with-target-sum-font-colormagenta2022-07-07font"><span class="post-title-index">4.1. </span><a class="markdownIt-Anchor" href="#find-two-non-overlapping-sub-arrays-each-with-target-sum-font-colormagenta2022-07-07font"></a> Find Two Non-overlapping Sub-arrays Each With Target Sum <font color="magenta">[2022-07-07]</font></h2>
<p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/find-two-non-overlapping-sub-arrays-each-with-target-sum/">Medium</a></p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">minSumOfLengths</span>(<span class="params">self, arr: <span class="type">List</span>[<span class="built_in">int</span>], target: <span class="built_in">int</span></span>) -&gt; <span class="built_in">int</span>:</span></span><br><span class="line">        n = <span class="built_in">len</span>(arr)</span><br><span class="line">        res = n + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        pre = {}</span><br><span class="line"></span><br><span class="line">        <span class="comment"># make sure the sub array start from 0 can be visited</span></span><br><span class="line">        pre[<span class="number">0</span>] = -<span class="number">1</span></span><br><span class="line">        dp = [<span class="built_in">float</span>(<span class="string">'inf'</span>)] * n</span><br><span class="line"></span><br><span class="line">        p = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i, a <span class="keyword">in</span> <span class="built_in">enumerate</span>(arr):</span><br><span class="line">            <span class="comment"># p is the sum from idex 0 to i</span></span><br><span class="line">            p += a</span><br><span class="line">            dp[i] = dp[i - <span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">            <span class="comment"># if p - target in pre then target = p - pre which is a sub array</span></span><br><span class="line">            <span class="comment"># the sum eqaul to target</span></span><br><span class="line">            <span class="keyword">if</span> (p - target) <span class="keyword">in</span> pre:</span><br><span class="line">                cur = i - pre[p - target]</span><br><span class="line">                <span class="comment"># dp[pre[p - target]] != float if and only if there are sub</span></span><br><span class="line">                <span class="comment"># array whose sum eqauls to the target, and it can not connect</span></span><br><span class="line">                <span class="comment"># with cur sub array because current sub array is from index</span></span><br><span class="line">                <span class="comment"># pre[p - target]</span></span><br><span class="line">                <span class="comment"># Note that: this can find all the possible pairs of sub</span></span><br><span class="line">                <span class="comment"># arrays</span></span><br><span class="line">                <span class="keyword">if</span> pre[p - target] &gt;= <span class="number">0</span> <span class="keyword">and</span> dp[pre[p - target]] != <span class="built_in">float</span>(<span class="string">'inf'</span>):</span><br><span class="line">                    res = <span class="built_in">min</span>(res, cur + dp[pre[p - target]])</span><br><span class="line">                <span class="comment"># dp does not equal to inf anymore, only if there are sub</span></span><br><span class="line">                <span class="comment"># array whose sum equals to the target</span></span><br><span class="line">                dp[i] = <span class="built_in">min</span>(i - pre[p - target], dp[i - <span class="number">1</span>])</span><br><span class="line"></span><br><span class="line">            <span class="comment"># the sum from index 0 to i is p</span></span><br><span class="line">            pre[p] = i</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span> <span class="keyword">if</span> res == n + <span class="number">1</span> <span class="keyword">else</span> res</span><br></pre></td></tr></tbody></table></figure>
<h2 id="minimum-one-bit-operations-to-make-integers-zero-font-colormagenta2022-06-27font"><span class="post-title-index">4.2. </span><a class="markdownIt-Anchor" href="#minimum-one-bit-operations-to-make-integers-zero-font-colormagenta2022-06-27font"></a> Minimum One Bit Operations to Make Integers Zero <font color="magenta">[2022-06-27]</font></h2>
<p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/minimum-one-bit-operations-to-make-integers-zero/">Really Hard</a></p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">minimumOneBitOperations</span>(<span class="params">self, n</span>):</span></span><br><span class="line">        dp1 = [<span class="number">0</span> <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">32</span>)]</span><br><span class="line">    <span class="comment">#dp1[i] 表示 仅第 i 位 为 1 时 将 第 i 位变为 0 的最小修改次数</span></span><br><span class="line">        res = <span class="number">0</span></span><br><span class="line">        dp1[<span class="number">0</span>] = <span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> i  <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">32</span>):</span><br><span class="line">            dp1[i] = dp1[i - <span class="number">1</span>] + <span class="number">1</span> + dp1[i - <span class="number">1</span>]</span><br><span class="line">        f = <span class="literal">True</span></span><br><span class="line">        <span class="comment"># 1. 0 变位仅i位为1的过程中，其后每一位都需要经历若干次从0到1,再从1到0的变化</span></span><br><span class="line">        <span class="comment"># 2. 其后位中若原本就为1,则不会经历第一次从0到1的变化，因为它本身就是1</span></span><br><span class="line">        <span class="comment"># 所以若把第i位从1变为0,记为dp[i]，是多记录了，因为其后有1</span></span><br><span class="line">        <span class="comment"># 所以如果其后遇到1的要减去。但是减去的话又多减了，因为其后还有1,所以又加上</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">31</span>, -<span class="number">1</span>, -<span class="number">1</span>):</span><br><span class="line">            <span class="keyword">if</span> n &gt;&gt; i &amp; <span class="number">1</span>:</span><br><span class="line">                <span class="keyword">if</span> f:</span><br><span class="line">                    res += dp1[i]</span><br><span class="line">                    f = <span class="literal">False</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    res -= dp1[i]</span><br><span class="line">                    f = <span class="literal">True</span></span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></tbody></table></figure>
<h2 id="the-number-of-palindromes"><span class="post-title-index">4.3. </span><a class="markdownIt-Anchor" href="#the-number-of-palindromes"></a> The number of palindromes</h2>
<p>Given a string return the number of the palindromes. The substrings are regarded
as different strings if they are start and end at different position.</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">countSubstrings</span>(<span class="params">self, s: <span class="built_in">str</span></span>) -&gt; <span class="built_in">int</span>:</span></span><br><span class="line">        n = <span class="built_in">len</span>(s)</span><br><span class="line">        res = [[<span class="literal">False</span> <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(n)] <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(n)]</span><br><span class="line">        <span class="comment"># if n == 0, there are 0 palindromes.</span></span><br><span class="line">        <span class="comment"># if n == 1, there are 1 palindromes.</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> n <span class="keyword">or</span> n == <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> n</span><br><span class="line">        ans = n</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">            res[<span class="number">0</span>][i] = <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n - <span class="number">1</span>):</span><br><span class="line">            res[<span class="number">1</span>][i] = s[i] == s[i + <span class="number">1</span>]</span><br><span class="line">            <span class="keyword">if</span> res[<span class="number">1</span>][i]:</span><br><span class="line">                ans += <span class="number">1</span></span><br><span class="line"><span class="comment"># if n == 2 it will not enter the following circle.</span></span><br><span class="line"><span class="comment"># if n &gt; 2 it will contnue to caculate palindromes whose length is larger than 2</span></span><br><span class="line">        <span class="keyword">for</span> l <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>, n):</span><br><span class="line">            <span class="keyword">for</span> st <span class="keyword">in</span> <span class="built_in">range</span>(n - l):</span><br><span class="line">                res[l][st] = res[l - <span class="number">2</span>][st + <span class="number">1</span>] <span class="keyword">and</span> s[st] == s[st + l]</span><br><span class="line">                <span class="keyword">if</span> res[l][st]:</span><br><span class="line">                    ans += <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></tbody></table></figure>
<h2 id="knight-dialer"><span class="post-title-index">4.4. </span><a class="markdownIt-Anchor" href="#knight-dialer"></a> Knight Dialer</h2>
<p>The topic is <a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/knight-dialer/">here</a>.</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">knightDialer</span>(<span class="params">self, N</span>):</span></span><br><span class="line">        MOD = <span class="number">10</span>**<span class="number">9</span> + <span class="number">7</span></span><br><span class="line">        <span class="comment"># From 0 can reach 4 and 6</span></span><br><span class="line">        <span class="comment"># From 1 can reach 6 and 8</span></span><br><span class="line">        moves = [[<span class="number">4</span>,<span class="number">6</span>],[<span class="number">6</span>,<span class="number">8</span>],[<span class="number">7</span>,<span class="number">9</span>],[<span class="number">4</span>,<span class="number">8</span>],[<span class="number">3</span>,<span class="number">9</span>,<span class="number">0</span>],[],</span><br><span class="line">                     [<span class="number">1</span>,<span class="number">7</span>,<span class="number">0</span>],[<span class="number">2</span>,<span class="number">6</span>],[<span class="number">1</span>,<span class="number">3</span>],[<span class="number">2</span>,<span class="number">4</span>]]</span><br><span class="line"></span><br><span class="line">        <span class="comment"># There is dp[i]==1 ways to reach i by one step</span></span><br><span class="line">        dp = [<span class="number">1</span>] * <span class="number">10</span></span><br><span class="line">        <span class="keyword">for</span> hops <span class="keyword">in</span> <span class="built_in">range</span>(N-<span class="number">1</span>):</span><br><span class="line">            dp2 = [<span class="number">0</span>] * <span class="number">10</span></span><br><span class="line">            <span class="keyword">for</span> node, count <span class="keyword">in</span> <span class="built_in">enumerate</span>(dp):</span><br><span class="line">              <span class="comment"># There are count way to reach node by hops + 1 steps</span></span><br><span class="line">                <span class="keyword">for</span> nei <span class="keyword">in</span> moves[node]:</span><br><span class="line">                    dp2[nei] += count</span><br><span class="line">                    dp2[nei] %= MOD</span><br><span class="line">              <span class="comment"># There are dp2[nei] way to reach nei by hops + 2 steps</span></span><br><span class="line">            dp = dp2</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">sum</span>(dp) % MOD</span><br></pre></td></tr></tbody></table></figure>
<h1 id="linked-list"><span class="post-title-index">5. </span><a class="markdownIt-Anchor" href="#linked-list"></a> Linked List</h1>
<h2 id="find-the-minimum-and-maximum-number-of-nodes-between-critical-points-font-colormagenta2022-06-18font"><span class="post-title-index">5.1. </span><a class="markdownIt-Anchor" href="#find-the-minimum-and-maximum-number-of-nodes-between-critical-points-font-colormagenta2022-06-18font"></a> Find The Minimum and Maximum Number of Nodes Between Critical Points <font color="magenta">[2022-06-18]</font></h2>
<p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/find-the-minimum-and-maximum-number-of-nodes-between-critical-points/">Medium</a></p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">nodesBetweenCriticalPoints</span>(<span class="params">self, head: <span class="type">Optional</span>[ListNode]</span>) -&gt; <span class="type">List</span>[<span class="built_in">int</span>]:</span></span><br><span class="line">        <span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">        cur = head</span><br><span class="line">        left_sign = <span class="number">0</span></span><br><span class="line">        pre_idx = <span class="literal">None</span></span><br><span class="line">        start_idx = <span class="literal">None</span></span><br><span class="line">        min_distance = <span class="built_in">float</span>(<span class="string">'inf'</span>)</span><br><span class="line">        idx = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> cur.<span class="built_in">next</span>:</span><br><span class="line">            right_sign = np.sign(cur.<span class="built_in">next</span>.val - cur.val)</span><br><span class="line">            <span class="keyword">if</span> left_sign * right_sign == -<span class="number">1</span>:</span><br><span class="line">                <span class="keyword">if</span> <span class="keyword">not</span> start_idx:</span><br><span class="line">                    start_idx = idx</span><br><span class="line">                <span class="keyword">if</span> pre_idx <span class="keyword">and</span> idx - pre_idx &lt; min_distance:</span><br><span class="line">                    min_distance = idx - pre_idx</span><br><span class="line"></span><br><span class="line">                pre_idx = idx</span><br><span class="line">            cur = cur.<span class="built_in">next</span></span><br><span class="line">            left_sign = right_sign</span><br><span class="line">            idx += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> pre_idx != start_idx:</span><br><span class="line">            <span class="keyword">return</span> [min_distance, pre_idx - start_idx]</span><br><span class="line">        <span class="keyword">return</span> [-<span class="number">1</span>, -<span class="number">1</span>]</span><br></pre></td></tr></tbody></table></figure>
<h2 id="reverse-a-linked-list-font-colormagenta2022-06-16font"><span class="post-title-index">5.2. </span><a class="markdownIt-Anchor" href="#reverse-a-linked-list-font-colormagenta2022-06-16font"></a> Reverse a Linked List <font color="magenta">[2022-06-16]</font></h2>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">reverseList</span>(<span class="params">self, head: ListNode</span>) -&gt; ListNode:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> head <span class="keyword">or</span> <span class="keyword">not</span> head.<span class="built_in">next</span>:</span><br><span class="line">            <span class="keyword">return</span> head</span><br><span class="line">        cur = head.<span class="built_in">next</span></span><br><span class="line">        start = head</span><br><span class="line">        <span class="comment"># head is the last node</span></span><br><span class="line">        start.<span class="built_in">next</span> = <span class="literal">None</span></span><br><span class="line">        <span class="keyword">while</span> cur:</span><br><span class="line">            next_cur = cur.<span class="built_in">next</span></span><br><span class="line">            cur.<span class="built_in">next</span> = start</span><br><span class="line">            start = cur</span><br><span class="line">            cur = next_cur</span><br><span class="line">        <span class="keyword">return</span> start</span><br></pre></td></tr></tbody></table></figure>
<h2 id="reverse-nodes-in-k-group-font-colormagenta2022-06-10font"><span class="post-title-index">5.3. </span><a class="markdownIt-Anchor" href="#reverse-nodes-in-k-group-font-colormagenta2022-06-10font"></a> Reverse Nodes in K-Group <font color="magenta">[2022-06-10]</font></h2>
<p>Given the head of a linked list, reverse the nodes of the list <code>k</code> at a time and
return the modified list.</p>
<p>Python</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">      <span class="comment"># reverse a link node, the length is k</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">reverse</span>(<span class="params">self, head: ListNode, tail: ListNode, k</span>):</span></span><br><span class="line">        current = head</span><br><span class="line">        crop = head.<span class="built_in">next</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(k - <span class="number">1</span>):</span><br><span class="line">            follow = crop.<span class="built_in">next</span></span><br><span class="line">            crop.<span class="built_in">next</span> = current</span><br><span class="line">            current = crop</span><br><span class="line">            crop = follow</span><br><span class="line">        <span class="keyword">return</span> current, head</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">reverseKGroup</span>(<span class="params">self, head: ListNode, k: <span class="built_in">int</span></span>) -&gt; ListNode:</span></span><br><span class="line">        dump = ListNode(<span class="number">0</span>)</span><br><span class="line">        dump.<span class="built_in">next</span> = head</span><br><span class="line"></span><br><span class="line">        current = dump</span><br><span class="line">        end = current</span><br><span class="line"></span><br><span class="line"><span class="comment"># while the end has next, check if it has k nodes followed</span></span><br><span class="line">        <span class="keyword">while</span> end.<span class="built_in">next</span>:</span><br><span class="line">            start = end.<span class="built_in">next</span></span><br><span class="line">            <span class="comment"># check if followed k nodes</span></span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(k):</span><br><span class="line">                end = end.<span class="built_in">next</span></span><br><span class="line">                 <span class="comment"># do not have k nodes followed, then do not reverse</span></span><br><span class="line">                 <span class="comment"># and also the link node have been done, and return.</span></span><br><span class="line">                <span class="keyword">if</span> <span class="keyword">not</span> end:</span><br><span class="line">                    <span class="keyword">return</span> dump.<span class="built_in">next</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># if have k nodes followed</span></span><br><span class="line">            follow = end.<span class="built_in">next</span></span><br><span class="line">             <span class="comment"># reverse the k nodes and return the reversed start and end</span></span><br><span class="line">            r_start, r_end = self.reverse(start, end, k)</span><br><span class="line">             <span class="comment"># connect the reversed k nodes with the original nodes</span></span><br><span class="line">            current.<span class="built_in">next</span> = r_start</span><br><span class="line">            r_end.<span class="built_in">next</span> = follow</span><br><span class="line">            current = r_end</span><br><span class="line">            end = current</span><br><span class="line">            <span class="comment"># the length of the link node is a multiple of k, and end.next is None, return</span></span><br><span class="line">        <span class="keyword">return</span> dump.<span class="built_in">next</span></span><br></pre></td></tr></tbody></table></figure>
<p>c++</p>
<figure class="highlight c++"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> {</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// 翻转一个子链表，并且返回新的头与尾</span></span><br><span class="line">    <span class="function">pair&lt;ListNode*, ListNode*&gt; <span class="title">myReverse</span><span class="params">(ListNode* head, ListNode* tail)</span> </span>{</span><br><span class="line">        ListNode* prev = tail-&gt;next;</span><br><span class="line">        ListNode* p = head;</span><br><span class="line">        <span class="keyword">while</span> (prev != tail) {</span><br><span class="line">            ListNode* nex = p-&gt;next;</span><br><span class="line">            p-&gt;next = prev;</span><br><span class="line">            prev = p;</span><br><span class="line">            p = nex;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> {tail, head};</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function">ListNode* <span class="title">reverseKGroup</span><span class="params">(ListNode* head, <span class="keyword">int</span> k)</span> </span>{</span><br><span class="line">        ListNode* hair = <span class="keyword">new</span> <span class="built_in">ListNode</span>(<span class="number">0</span>);</span><br><span class="line">        hair-&gt;next = head;</span><br><span class="line">        ListNode* pre = hair;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (head) {</span><br><span class="line">            ListNode* tail = pre;</span><br><span class="line">            <span class="comment">// 查看剩余部分长度是否大于等于 k</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; k; ++i) {</span><br><span class="line">                tail = tail-&gt;next;</span><br><span class="line">                <span class="keyword">if</span> (!tail) {</span><br><span class="line">                    <span class="keyword">return</span> hair-&gt;next;</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">            ListNode* nex = tail-&gt;next;</span><br><span class="line">            <span class="comment">// 这里是 C++17 的写法，也可以写成</span></span><br><span class="line">            <span class="comment">// pair&lt;ListNode*, ListNode*&gt; result = myReverse(head, tail);</span></span><br><span class="line">            <span class="comment">// head = result.first;</span></span><br><span class="line">            <span class="comment">// tail = result.second;</span></span><br><span class="line">            <span class="built_in">tie</span>(head, tail) = <span class="built_in">myReverse</span>(head, tail);</span><br><span class="line">            <span class="comment">// 把子链表重新接回原链表</span></span><br><span class="line">            pre-&gt;next = head;</span><br><span class="line">            tail-&gt;next = nex;</span><br><span class="line">            pre = tail;</span><br><span class="line">            head = tail-&gt;next;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> hair-&gt;next;</span><br><span class="line">    }</span><br><span class="line">};</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<h2 id="palindrome-linked-list"><span class="post-title-index">5.4. </span><a class="markdownIt-Anchor" href="#palindrome-linked-list"></a> Palindrome Linked List</h2>
<p>Given the <code>head</code> of a singly linked list, return <code>true</code> if it is a Palindrome.</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isPalindrome</span>(<span class="params">self, head: ListNode</span>) -&gt; <span class="built_in">bool</span>:</span></span><br><span class="line">        res = []</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> head:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        num = <span class="number">0</span></span><br><span class="line">        first = head</span><br><span class="line">        <span class="keyword">while</span> first.<span class="built_in">next</span>:</span><br><span class="line">            res.append(first.val)</span><br><span class="line">            num += <span class="number">1</span> <span class="comment"># count the length of the linked list</span></span><br><span class="line">            first = first.<span class="built_in">next</span></span><br><span class="line">        res.append(first.val) <span class="comment"># store all the node value</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(num // <span class="number">2</span> + <span class="number">1</span>): <span class="comment"># does not need to check all the nodes</span></span><br><span class="line">            <span class="keyword">if</span> res[i] != res[num - i]:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br></pre></td></tr></tbody></table></figure>
<p>If one want only use O(n) time and O(1) storage, must reverse the last half of
the linked list.</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isPalindrome</span>(<span class="params">self, head: ListNode</span>) -&gt; <span class="built_in">bool</span>:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> head <span class="keyword">or</span> <span class="keyword">not</span> head.<span class="built_in">next</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">find_the_middle</span>(<span class="params">node</span>):</span></span><br><span class="line">            slow = node</span><br><span class="line">            fast = node</span><br><span class="line">            <span class="keyword">while</span> fast.<span class="built_in">next</span> <span class="keyword">and</span> fast.<span class="built_in">next</span>.<span class="built_in">next</span>:</span><br><span class="line">                slow = slow.<span class="built_in">next</span></span><br><span class="line">                fast = fast.<span class="built_in">next</span>.<span class="built_in">next</span></span><br><span class="line">            second_start = slow.<span class="built_in">next</span></span><br><span class="line">            slow.<span class="built_in">next</span> = <span class="literal">None</span></span><br><span class="line">            <span class="keyword">return</span> second_start</span><br><span class="line">        second_start = find_the_middle(head)</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">reverse</span>(<span class="params">node</span>):</span></span><br><span class="line">            start = node</span><br><span class="line">            pre = node.<span class="built_in">next</span></span><br><span class="line">            start.<span class="built_in">next</span> = <span class="literal">None</span></span><br><span class="line">            <span class="keyword">while</span> pre:</span><br><span class="line">                cur = pre</span><br><span class="line">                pre = pre.<span class="built_in">next</span></span><br><span class="line">                cur.<span class="built_in">next</span> = start</span><br><span class="line">                start = cur</span><br><span class="line">            <span class="keyword">return</span> start</span><br><span class="line">        new_start = reverse(second_start)</span><br><span class="line">        <span class="keyword">while</span> head <span class="keyword">and</span> new_start:</span><br><span class="line">            <span class="keyword">if</span> head.val != new_start.val:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">            head = head.<span class="built_in">next</span></span><br><span class="line">            new_start = new_start.<span class="built_in">next</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br></pre></td></tr></tbody></table></figure>
<h1 id="string"><span class="post-title-index">6. </span><a class="markdownIt-Anchor" href="#string"></a> String</h1>
<h2 id="strong-password-checker-ii-font-colormagenta2022-06-22font"><span class="post-title-index">6.1. </span><a class="markdownIt-Anchor" href="#strong-password-checker-ii-font-colormagenta2022-06-22font"></a> Strong Password Checker II <font color="magenta">[2022-06-22]</font></h2>
<p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/strong-password-checker-ii/">Simple</a></p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">strongPasswordCheckerII</span>(<span class="params">self, password: <span class="built_in">str</span></span>) -&gt; <span class="built_in">bool</span>:</span></span><br><span class="line">        n = <span class="built_in">len</span>(password)</span><br><span class="line"></span><br><span class="line">        if_length = n &gt;= <span class="number">8</span></span><br><span class="line"></span><br><span class="line">        contain_lower = <span class="literal">False</span></span><br><span class="line">        contain_upper = <span class="literal">False</span></span><br><span class="line">        contain_number = <span class="literal">False</span></span><br><span class="line">        contain_special = <span class="literal">False</span></span><br><span class="line">        contain_twosame = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">        special = <span class="built_in">set</span>(<span class="string">"!@#$%^&amp;*()-+"</span>)</span><br><span class="line">        pre_char = <span class="string">''</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> password:</span><br><span class="line">            <span class="keyword">if</span> i == pre_char:</span><br><span class="line">                contain_twosame = <span class="literal">True</span></span><br><span class="line">            pre_char = i</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> contain_lower <span class="keyword">and</span> i.islower():</span><br><span class="line">                contain_lower = <span class="literal">True</span></span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> contain_upper <span class="keyword">and</span> i.isupper():</span><br><span class="line">                contain_upper = <span class="literal">True</span></span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> contain_number <span class="keyword">and</span> i.isdigit():</span><br><span class="line">                contain_number = <span class="literal">True</span></span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> contain_special <span class="keyword">and</span> i <span class="keyword">in</span> special:</span><br><span class="line">                contain_special = <span class="literal">True</span></span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">        <span class="keyword">return</span> if_length <span class="keyword">and</span> contain_lower <span class="keyword">and</span> contain_upper <span class="keyword">and</span> contain_number <span class="keyword">and</span> contain_special <span class="keyword">and</span> <span class="keyword">not</span> contain_twosame</span><br></pre></td></tr></tbody></table></figure>
<h2 id="minimum-changes-to-make-alternating-binary-string"><span class="post-title-index">6.2. </span><a class="markdownIt-Anchor" href="#minimum-changes-to-make-alternating-binary-string"></a> Minimum Changes to Make Alternating Binary String</h2>
<p>You are given a string <code>s</code> consisting only of the characters <code>0</code> and <code>1</code>. In one
operation, you can change any <code>0</code> to <code>1</code> or vice versa.</p>
<p>The string is called alternating if no two adjacent characters are equal. Return
the minimum number of operations needed to make <code>s</code> alternating.</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">minOperations</span>(<span class="params">self, s: <span class="built_in">str</span></span>) -&gt; <span class="built_in">int</span>:</span></span><br><span class="line">        n = <span class="built_in">len</span>(s)</span><br><span class="line">        <span class="comment"># The ans is the operation needed to turn s into `010101`</span></span><br><span class="line">        ans = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">            <span class="keyword">if</span> i % <span class="number">2</span> <span class="keyword">and</span> s[i] != <span class="string">"1"</span>:</span><br><span class="line">              ans += <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> i % <span class="number">2</span> <span class="keyword">and</span> s[i] != <span class="string">"0"</span>:</span><br><span class="line">                ans += <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">min</span>(ans, n - ans)</span><br></pre></td></tr></tbody></table></figure>
<h1 id="sort"><span class="post-title-index">7. </span><a class="markdownIt-Anchor" href="#sort"></a> Sort</h1>
<h2 id="relative-rank-font-colormagenta2022-06-28font"><span class="post-title-index">7.1. </span><a class="markdownIt-Anchor" href="#relative-rank-font-colormagenta2022-06-28font"></a> Relative Rank <font color="magenta">[2022-06-28]</font></h2>
<p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/relative-ranks/">Simple</a></p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findRelativeRanks</span>(<span class="params">self, score: <span class="type">List</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="type">List</span>[<span class="built_in">str</span>]:</span></span><br><span class="line">        n = <span class="built_in">len</span>(score)</span><br><span class="line">        dic = {</span><br><span class="line">            <span class="number">0</span> : <span class="string">'Gold Medal'</span>,</span><br><span class="line">            <span class="number">1</span> : <span class="string">'Silver Medal'</span>,</span><br><span class="line">            <span class="number">2</span> : <span class="string">'Bronze Medal'</span>,</span><br><span class="line">            }</span><br><span class="line">        res = <span class="built_in">sorted</span>(<span class="built_in">range</span>(n), key = <span class="keyword">lambda</span> x : score[x], reverse = <span class="literal">True</span>)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">            <span class="keyword">if</span> i <span class="keyword">in</span> dic:</span><br><span class="line">                score[res[i]] = dic[i]</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                score[res[i]] = <span class="built_in">str</span>(i + <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> score</span><br></pre></td></tr></tbody></table></figure>
<h2 id="sort-integers-by-the-number-of-1-bits-font-colormagenta2022-06-16font"><span class="post-title-index">7.2. </span><a class="markdownIt-Anchor" href="#sort-integers-by-the-number-of-1-bits-font-colormagenta2022-06-16font"></a> Sort Integers by the Number of 1 Bits <font color="magenta">[2022-06-16]</font></h2>
<p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/sort-integers-by-the-number-of-1-bits/">here</a></p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sortByBits</span>(<span class="params">self, arr: <span class="type">List</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="type">List</span>[<span class="built_in">int</span>]:</span></span><br><span class="line">        res = []</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> arr:</span><br><span class="line">            c = <span class="number">0</span></span><br><span class="line">            <span class="keyword">for</span> s <span class="keyword">in</span> <span class="built_in">bin</span>(i):</span><br><span class="line">                <span class="keyword">if</span> s == <span class="string">'1'</span>:</span><br><span class="line">                    c += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">            res.append([c, i])</span><br><span class="line">        res.sort()</span><br><span class="line">        <span class="keyword">return</span> [a[<span class="number">1</span>] <span class="keyword">for</span> a <span class="keyword">in</span> res]</span><br></pre></td></tr></tbody></table></figure>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> defaultdict <span class="keyword">as</span> d</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sortByBits</span>(<span class="params">self, arr: <span class="type">List</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="type">List</span>[<span class="built_in">int</span>]:</span></span><br><span class="line">        dic = d(<span class="built_in">list</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> arr:</span><br><span class="line">            c = <span class="number">0</span></span><br><span class="line">            <span class="keyword">for</span> s <span class="keyword">in</span> <span class="built_in">str</span>(<span class="built_in">bin</span>(i)):</span><br><span class="line">                <span class="keyword">if</span> s == <span class="string">"1"</span>:</span><br><span class="line">                    c += <span class="number">1</span></span><br><span class="line">            dic[c].append(i)</span><br><span class="line"></span><br><span class="line">        output = []</span><br><span class="line"><span class="comment"># The range of integer is less than 0b111111111111111.</span></span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">15</span>):</span><br><span class="line">            <span class="keyword">if</span> dic[j]:</span><br><span class="line">                <span class="keyword">for</span> temp <span class="keyword">in</span> <span class="built_in">sorted</span>(dic[j]):</span><br><span class="line">                    output.append(temp)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> output</span><br></pre></td></tr></tbody></table></figure>
<h2 id="k-highest-ranked-items-within-a-price-range-font-colormagenta2022-06-13font"><span class="post-title-index">7.3. </span><a class="markdownIt-Anchor" href="#k-highest-ranked-items-within-a-price-range-font-colormagenta2022-06-13font"></a> K Highest Ranked Items Within a Price Range <font color="magenta">[2022-06-13]</font></h2>
<p>The topic is
<a target="_blank" rel="noopener" href="https://leetcode.cn/problems/k-highest-ranked-items-within-a-price-range/">here</a>.</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">highestRankedKItems</span>(<span class="params">self, grid: <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">int</span>]], pricing: <span class="type">List</span>[<span class="built_in">int</span>], start: <span class="type">List</span>[<span class="built_in">int</span>], k: <span class="built_in">int</span></span>) -&gt; <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">int</span>]]:</span></span><br><span class="line">        res = []</span><br><span class="line"></span><br><span class="line">        curs = [</span><br><span class="line">            [<span class="number">0</span>, grid[start[<span class="number">0</span>]][start[<span class="number">1</span>]], start[<span class="number">0</span>], start[<span class="number">1</span>]]</span><br><span class="line">            ]</span><br><span class="line"></span><br><span class="line"><span class="comment"># gird set to 0 is to avoid visiting a coordinate for multiple time.</span></span><br><span class="line"><span class="comment"># The position to set the grid to be 0 is important.</span></span><br><span class="line"><span class="comment"># in  this example, the price of a coordinate is set to 0 when it is visited by curs.</span></span><br><span class="line"><span class="comment"># also can set the price to be 0, when it is checked if within the price range.</span></span><br><span class="line"><span class="comment"># However, this is time expensive, for a position maybe append to curs many times before it is checked.</span></span><br><span class="line"><span class="comment"># It is the best to set the price to be 0, once it is visited by curs. The curs will not visits it again.</span></span><br><span class="line">        grid[start[<span class="number">0</span>]][start[<span class="number">1</span>]] = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">        r = <span class="built_in">len</span>(grid)</span><br><span class="line">        c = <span class="built_in">len</span>(grid[<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line">        dirctions = [[<span class="number">0</span>, <span class="number">1</span>], [<span class="number">1</span>, <span class="number">0</span>], [<span class="number">0</span>, -<span class="number">1</span>], [-<span class="number">1</span>, <span class="number">0</span>]]</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> curs:</span><br><span class="line">            cur = curs.pop(<span class="number">0</span>)</span><br><span class="line">            cur_step = cur[<span class="number">0</span>]</span><br><span class="line">            cur_price = cur[<span class="number">1</span>]</span><br><span class="line">            cur_row = cur[<span class="number">2</span>]</span><br><span class="line">            cur_cln = cur[<span class="number">3</span>]</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> pricing[<span class="number">0</span>] &lt;= cur_price &lt;= pricing[<span class="number">1</span>]:</span><br><span class="line">               res.append(cur)</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> dirction <span class="keyword">in</span> dirctions:</span><br><span class="line">                next_step = cur_step + <span class="number">1</span></span><br><span class="line">                next_row = cur_row + dirction[<span class="number">0</span>]</span><br><span class="line">                next_cln = cur_cln + dirction[<span class="number">1</span>]</span><br><span class="line">                <span class="keyword">if</span> <span class="number">0</span> &lt;= next_row &lt; r <span class="keyword">and</span> <span class="number">0</span> &lt;= next_cln &lt; c:</span><br><span class="line">                    next_price = grid[next_row][next_cln]</span><br><span class="line">                    grid[next_row][next_cln] = <span class="number">0</span></span><br><span class="line">                    <span class="keyword">if</span> next_price &gt; <span class="number">0</span>:</span><br><span class="line">                        curs.append([next_step, next_price,next_row, next_cln])</span><br><span class="line"></span><br><span class="line">        res.sort()</span><br><span class="line">        <span class="keyword">return</span> [res[<span class="number">2</span>:] <span class="keyword">for</span> res <span class="keyword">in</span> res[:k]]</span><br></pre></td></tr></tbody></table></figure>
<h2 id="wiggle-sort-2"><span class="post-title-index">7.4. </span><a class="markdownIt-Anchor" href="#wiggle-sort-2"></a> Wiggle Sort 2</h2>
<p>Given an integer array <code>nums</code>, recorder it such that
<code>nums[0] &lt; nums[1] &gt; nums[2] &lt; nums[3] &gt; ...</code>. You may assume the input array
always has a valid answer.</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wiggleSort</span>(<span class="params">self, nums: <span class="type">List</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="literal">None</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        Do not return anything, modify nums in-place instead.</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        res = []</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> nums:</span><br><span class="line">            res.append(i)</span><br><span class="line">        res.sort()</span><br><span class="line">        n = <span class="built_in">len</span>(nums)</span><br><span class="line">        <span class="comment"># Because the smaller number is always filled first,</span></span><br><span class="line">        <span class="comment"># let len(smaller numbers) - len(larger numbers) == 1</span></span><br><span class="line">        <span class="comment"># if the len(nums) is odd.</span></span><br><span class="line">        <span class="comment"># if n is even, the small half from 0 to n // 2 - 1</span></span><br><span class="line">        <span class="comment"># the large half from n // 2 to n - 1</span></span><br><span class="line">        <span class="comment"># if n is odd, small number from 0 to n // 2</span></span><br><span class="line">        <span class="comment"># large number from n // 2 + 1 to n - 1,</span></span><br><span class="line">        <span class="comment"># Thus, no matter n is odd or even, small number from 0 to</span></span><br><span class="line">        <span class="comment"># (n + 1) // 2 - 1, large number from (n + 1) // 2 to n - 1</span></span><br><span class="line">        half = (n + <span class="number">1</span>) // <span class="number">2</span></span><br><span class="line">        <span class="comment"># to avoid that the last small number is equal to the first large</span></span><br><span class="line">        <span class="comment"># number, fill the small number from *last* to first,</span></span><br><span class="line">        <span class="comment"># also, fill the large number from last to *first*</span></span><br><span class="line">        <span class="comment"># ** means that the number should try to be apart.</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># if n is even, half * 2 == n</span></span><br><span class="line">        <span class="comment"># if n is odd, half * 2 == n + 1</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(half):</span><br><span class="line">            nums[<span class="number">2</span> * i] = res[half - <span class="number">1</span> -i]</span><br><span class="line">            <span class="comment"># len(large number) is smaller than len(small number),</span></span><br><span class="line">            <span class="comment"># thus, the when i = half -1, maybe no large number anymore</span></span><br><span class="line">            <span class="keyword">try</span>:</span><br><span class="line">                nums[<span class="number">2</span> * i + <span class="number">1</span>] = res[n - <span class="number">1</span> - i]</span><br><span class="line">            <span class="keyword">except</span>:</span><br><span class="line">                <span class="keyword">pass</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="rank-teams-by-votes"><span class="post-title-index">7.5. </span><a class="markdownIt-Anchor" href="#rank-teams-by-votes"></a> Rank Teams by Votes</h2>
<p>In a special ranking system, each voter gives a rank from highest to lowest to
all teams participated in the competition, e.g., one gives <code>ABC</code>, one gives
<code>BCA</code>.</p>
<p>The ordering of teams is decided by who received the most position-one votes. If
<code>A</code> received the most 1-st place Then <code>A</code> is the first. If <code>B</code> received the same
first place as <code>A</code> then compare the number of second place they received. If <code>A</code>
and <code>B</code> received all the places the same number then ordered them by their
letter, i.e., <code>A</code> is in front of <code>B</code>.</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">rankTeams</span>(<span class="params">self, votes: <span class="type">List</span>[<span class="built_in">str</span>]</span>) -&gt; <span class="built_in">str</span>:</span></span><br><span class="line">        n = <span class="built_in">len</span>(votes[<span class="number">0</span>])</span><br><span class="line">        <span class="comment"># initialization of a hash map, the default value is list [0, 0, ..., 0]</span></span><br><span class="line">        <span class="comment"># <span class="doctag">NOTE:</span> How to set defaultdict by lambda without input, it is indeed a function factory.</span></span><br><span class="line">        ranking = collections.defaultdict(<span class="keyword">lambda</span>: [<span class="number">0</span>] * n)</span><br><span class="line">         <span class="comment"># count the vote situation for each team, vid is the name of teams.</span></span><br><span class="line">        <span class="keyword">for</span> vote <span class="keyword">in</span> votes:</span><br><span class="line">            <span class="keyword">for</span> i, vid <span class="keyword">in</span> <span class="built_in">enumerate</span>(vote):</span><br><span class="line">                ranking[vid][i] += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># result is a list, e.g., [('A', [5, 0, 0]), ('B', [0, 2, 3]), ('C', [0, 3, 2])]</span></span><br><span class="line">        result = <span class="built_in">list</span>(ranking.items())</span><br><span class="line">        <span class="comment"># sort the order of letter -ord(x[0]) is regard as the last criterion</span></span><br><span class="line">        result.sort(key=<span class="keyword">lambda</span> x: (x[<span class="number">1</span>], -<span class="built_in">ord</span>(x[<span class="number">0</span>])), reverse=<span class="literal">True</span>)</span><br><span class="line">        <span class="comment"># return the ordered vid</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">""</span>.join([vid <span class="keyword">for</span> vid, rank <span class="keyword">in</span> result])</span><br></pre></td></tr></tbody></table></figure>
<h2 id="number-game"><span class="post-title-index">7.6. </span><a class="markdownIt-Anchor" href="#number-game"></a> Number Game</h2>
<p>Give a list of numbers. You can <code>+ 1</code> or <code>- 1</code> at position <code>i</code> which is regarded
as one operator at position <code>i</code>. Please return the minimum operators for
position <code>i</code> to make the list of numbers satisfying
<code>nums[a] + 1 == nums[a + 1], 0 &lt;= a &lt;= i</code>. The original topic is
<a target="_blank" rel="noopener" href="https://leetcode.cn/problems/5TxKeK/">here</a>.</p>
<h3 id="analysis"><span class="post-title-index">7.6.1. </span><a class="markdownIt-Anchor" href="#analysis"></a> Analysis</h3>
<p>To satisfying <code>nums[a] + 1 == nums[a + 1]</code>, we do not know which number it is
for position <code>i</code> which makes the operators minimum.</p>
<p>Thus we can transform this problem, we make <code>nums[a] = nums[a] - a</code>. Then we
only need to make each position of the <code>nums</code> all equal to the same number. Then
the minimum way is to set the number as the median number of <code>nums</code>.</p>
<p><font color="red">NOTE:</font> it is the median number, not the mean value. If the
length of the list is even then the median is the mean of the middle two
numbers.</p>
<p>It is easy to prove that the mean value can not bring the minimum operators. For
examples, for list <code>[1, 3, 8]</code> the mean value is <code>4</code> and it needs
<code>3 + 1 + 4 = 8</code> operators to make the list into <code>[4, 4, 4]</code>. The median is <code>3</code>
and it needs only <code>2 + 0 + 5 = 7</code> operators to make the list into <code>[3, 3, 3]</code>.</p>
<p><font color="blue">The reason for why it is the median.</font></p>
<p>Let <code>s</code> be the value that each position will reach and <code>m</code> be the median. If <code>s</code>
is large than <code>m</code>, then <code>#(nums[i] &gt; s) &lt; #(nums[i] &lt; s)</code>. If set <code>s = s - 1</code>,
<code>nums[i]</code> will add <code>1</code> operator if <code>nums[i] &gt; s</code> and <code>nums[i]</code> will decrease <code>1</code>
operator if <code>nums[i] &lt; s</code>. For <code>#(nums[i] &gt; s) &lt; #(nums[i] &lt; s)</code>, the total
number of operators will decrease. It will always decrease until <code>s == m</code>, i.e.,
<code>#(nums[i] &gt; s) = #(nums[i] &lt; s)</code>.</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> typing <span class="keyword">import</span> <span class="type">List</span></span><br><span class="line"><span class="keyword">from</span> heapq <span class="keyword">import</span> heappush, heappushpop</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MedianFinder</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.small = []  <span class="comment"># 大顶堆</span></span><br><span class="line">        self.large = []  <span class="comment"># 小顶堆</span></span><br><span class="line">        self.leftSum = <span class="number">0</span></span><br><span class="line">        self.rightSum = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">add</span>(<span class="params">self, num: <span class="built_in">int</span></span>) -&gt; <span class="literal">None</span>:</span></span><br><span class="line">        <span class="comment"># if #small == #large then put the num in large</span></span><br><span class="line">        <span class="comment"># How to push it in large.</span></span><br><span class="line">        <span class="comment"># <span class="doctag">NOTE:</span> not put it in large directly, find the largest value then put it in to the large.</span></span><br><span class="line">        <span class="comment"># This ensure that large is always larger than small.</span></span><br><span class="line">        <span class="comment"># #small always smaller than #large and only larger than 1</span></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(self.small) == <span class="built_in">len</span>(self.large):</span><br><span class="line">            leftMax = -heappushpop(self.small, -num)</span><br><span class="line">            heappush(self.large, leftMax)</span><br><span class="line">            self.leftSum += num - leftMax</span><br><span class="line">            self.rightSum += leftMax</span><br><span class="line">        <span class="keyword">elif</span> <span class="built_in">len</span>(self.small) &lt; <span class="built_in">len</span>(self.large):</span><br><span class="line">            rightMin = heappushpop(self.large, num)</span><br><span class="line">            heappush(self.small, -rightMin)</span><br><span class="line">            self.leftSum += rightMin</span><br><span class="line">            self.rightSum += num - rightMin</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getMedian</span>(<span class="params">self</span>) -&gt; <span class="built_in">float</span>:</span></span><br><span class="line">     <span class="comment"># self.large[0] is the smallest value in large</span></span><br><span class="line">     <span class="comment"># -self.small[0] is the largest value in small</span></span><br><span class="line">     <span class="comment"># get the median if the length is odd, else the mean of the two middle numbers</span></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(self.small) == <span class="built_in">len</span>(self.large):</span><br><span class="line">            <span class="keyword">return</span> (self.large[<span class="number">0</span>] - self.small[<span class="number">0</span>]) / <span class="number">2</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> self.large[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getDiffSum</span>(<span class="params">self</span>) -&gt; <span class="built_in">float</span>:</span></span><br><span class="line">        median = self.getMedian()</span><br><span class="line">        <span class="keyword">return</span> self.rightSum - <span class="built_in">len</span>(self.large) * median + <span class="built_in">len</span>(self.small) * median - self.leftSum</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">numsGame</span>(<span class="params">self, nums: <span class="type">List</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="type">List</span>[<span class="built_in">int</span>]:</span></span><br><span class="line">        MOD = <span class="built_in">int</span>(<span class="number">1e9</span> + <span class="number">7</span>)</span><br><span class="line">        res = []</span><br><span class="line">        medianFinder = MedianFinder()</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(nums)):</span><br><span class="line">            normalized = nums[i] - i</span><br><span class="line">            medianFinder.add(normalized)</span><br><span class="line">            res.append(<span class="built_in">int</span>(medianFinder.getDiffSum() % MOD))</span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></tbody></table></figure>
<h1 id="dichotomy"><span class="post-title-index">8. </span><a class="markdownIt-Anchor" href="#dichotomy"></a> Dichotomy</h1>
<h2 id="minimum-garden-perimeter-to-collect-enough-apples-font-colormagenta2022-06-22font"><span class="post-title-index">8.1. </span><a class="markdownIt-Anchor" href="#minimum-garden-perimeter-to-collect-enough-apples-font-colormagenta2022-06-22font"></a> Minimum Garden Perimeter to Collect Enough Apples <font color="magenta">[2022-06-22]</font></h2>
<p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/minimum-garden-perimeter-to-collect-enough-apples/">Medium</a></p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">minimumPerimeter</span>(<span class="params">self, neededApples: <span class="built_in">int</span></span>) -&gt; <span class="built_in">int</span>:</span></span><br><span class="line">        left, right, ans = <span class="number">1</span>, <span class="number">100000</span>, <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> left &lt;= right:</span><br><span class="line">            mid = (left + right) // <span class="number">2</span></span><br><span class="line">            <span class="keyword">if</span> <span class="number">2</span> * mid * (mid + <span class="number">1</span>) * (mid * <span class="number">2</span> + <span class="number">1</span>) &gt;= neededApples:</span><br><span class="line">                ans = mid</span><br><span class="line">                right = mid - <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                left = mid + <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> ans * <span class="number">8</span></span><br></pre></td></tr></tbody></table></figure>
<h1 id="greedy"><span class="post-title-index">9. </span><a class="markdownIt-Anchor" href="#greedy"></a> Greedy</h1>
<h2 id="time-needed-to-buy-tickets-font-colormagenta2022-07-10font"><span class="post-title-index">9.1. </span><a class="markdownIt-Anchor" href="#time-needed-to-buy-tickets-font-colormagenta2022-07-10font"></a> Time Needed To Buy Tickets <font color="magenta">[2022-07-10]</font></h2>
<p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/time-needed-to-buy-tickets/">Simple</a></p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">timeRequiredToBuy</span>(<span class="params">self, tickets: <span class="type">List</span>[<span class="built_in">int</span>], k: <span class="built_in">int</span></span>) -&gt; <span class="built_in">int</span>:</span></span><br><span class="line">        res = <span class="number">0</span></span><br><span class="line">        target = tickets[k]</span><br><span class="line">        n = <span class="built_in">len</span>(tickets)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">            <span class="keyword">if</span> i &lt;= k:</span><br><span class="line">                res += <span class="built_in">min</span>(tickets[i], target)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                res += <span class="built_in">min</span>(tickets[i], target - <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></tbody></table></figure>
<h2 id="form-array-by-concatenating-sub-arrays-in-another-array-font-colormagenta2022-07-09font"><span class="post-title-index">9.2. </span><a class="markdownIt-Anchor" href="#form-array-by-concatenating-sub-arrays-in-another-array-font-colormagenta2022-07-09font"></a> Form Array by Concatenating Sub-arrays in Another Array <font color="magenta">[2022-07-09]</font></h2>
<p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/form-array-by-concatenating-subarrays-of-another-array/">Medium</a></p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">canChoose</span>(<span class="params">self, groups: <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">int</span>]], nums: <span class="type">List</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="built_in">bool</span>:</span></span><br><span class="line">        num_row = <span class="built_in">len</span>(groups)</span><br><span class="line">        n = <span class="built_in">len</span>(nums)</span><br><span class="line"></span><br><span class="line">        idx = <span class="number">0</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">if_find</span>(<span class="params">cur_r, idx</span>):</span></span><br><span class="line">            num_column = <span class="built_in">len</span>(groups[cur_r])</span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(idx, n - num_column + <span class="number">1</span>):</span><br><span class="line">                <span class="keyword">if</span> groups[cur_r] == nums[i: i + num_column]:</span><br><span class="line">                    <span class="keyword">return</span> i + num_column</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(num_row):</span><br><span class="line">            idx = if_find(i, idx)</span><br><span class="line">            <span class="keyword">if</span> idx == -<span class="number">1</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="longest-chunked-palindrome-decomposition-font-colormagenta2022-06-19font"><span class="post-title-index">9.3. </span><a class="markdownIt-Anchor" href="#longest-chunked-palindrome-decomposition-font-colormagenta2022-06-19font"></a> Longest Chunked Palindrome Decomposition <font color="magenta">[2022-06-19]</font></h2>
<p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/longest-chunked-palindrome-decomposition/">hard</a></p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">longestDecomposition</span>(<span class="params">self, text: <span class="built_in">str</span></span>) -&gt; <span class="built_in">int</span>:</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">get_sub_str</span>(<span class="params">s</span>):</span></span><br><span class="line">            n = <span class="built_in">len</span>(s)</span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span> , n // <span class="number">2</span> + <span class="number">1</span>):</span><br><span class="line">                <span class="keyword">if</span> s[ : i] == s[n - i : ]:</span><br><span class="line">                    <span class="keyword">return</span> i</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">        ans = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> text:</span><br><span class="line">            cur_sub_length = get_sub_str(text)</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> cur_sub_length:</span><br><span class="line">                <span class="keyword">return</span> ans + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">            text_length = <span class="built_in">len</span>(text)</span><br><span class="line">            text = text[cur_sub_length : text_length  - cur_sub_length]</span><br><span class="line">            ans += <span class="number">2</span></span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></tbody></table></figure>
<h2 id="orderly-queue-font-colormagenta2022-06-17font"><span class="post-title-index">9.4. </span><a class="markdownIt-Anchor" href="#orderly-queue-font-colormagenta2022-06-17font"></a> Orderly Queue <font color="magenta">[2022-06-17]</font></h2>
<p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/orderly-queue/">Hard</a></p>
<p>When K &gt;= 2 the minimum queue can be obtained, thus only need to sort it and do
not need to know how the minimum queue is obtained.</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">orderlyQueue</span>(<span class="params">self, S, K</span>):</span></span><br><span class="line">        <span class="keyword">if</span> K == <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">min</span>(S[i:] + S[:i] <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(S)))</span><br><span class="line">        <span class="keyword">return</span> <span class="string">""</span>.join(<span class="built_in">sorted</span>(S))</span><br></pre></td></tr></tbody></table></figure>
<h1 id="brute-force-search"><span class="post-title-index">10. </span><a class="markdownIt-Anchor" href="#brute-force-search"></a> Brute Force Search</h1>
<h2 id="non-overlapping-intervals-font-colormagenta2022-07-08font"><span class="post-title-index">10.1. </span><a class="markdownIt-Anchor" href="#non-overlapping-intervals-font-colormagenta2022-07-08font"></a> Non-overlapping Intervals <font color="magenta">[2022-07-08]</font></h2>
<p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/non-overlapping-intervals/">Medium</a></p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">eraseOverlapIntervals</span>(<span class="params">self, intervals: <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">int</span>]]</span>) -&gt; <span class="built_in">int</span>:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> intervals:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        <span class="comment"># sort by the end position</span></span><br><span class="line">        intervals.sort(key=<span class="keyword">lambda</span> x: x[<span class="number">1</span>])</span><br><span class="line">        n = <span class="built_in">len</span>(intervals)</span><br><span class="line">        right = intervals[<span class="number">0</span>][<span class="number">1</span>]</span><br><span class="line">        ans = <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, n):</span><br><span class="line">            <span class="comment"># do not overlap the previse interval add it</span></span><br><span class="line">            <span class="comment"># this is equal to reomve the interval when it is overlap with</span></span><br><span class="line">            <span class="comment"># the previse one</span></span><br><span class="line">            <span class="comment"># it is the right way, because when overlap, the interval must be</span></span><br><span class="line">            <span class="comment"># removed or remove at least one of added intervals and the right</span></span><br><span class="line">            <span class="comment"># will get larger when remove the added intervals.</span></span><br><span class="line">            <span class="keyword">if</span> intervals[i][<span class="number">0</span>] &gt;= right:</span><br><span class="line">                ans += <span class="number">1</span></span><br><span class="line">                right = intervals[i][<span class="number">1</span>]</span><br><span class="line">        <span class="keyword">return</span> n - ans</span><br></pre></td></tr></tbody></table></figure>
<h2 id="longest-nice-substring-font-colormagenta2022-07-05font"><span class="post-title-index">10.2. </span><a class="markdownIt-Anchor" href="#longest-nice-substring-font-colormagenta2022-07-05font"></a> Longest Nice Substring <font color="magenta">[2022-07-05]</font></h2>
<p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/longest-nice-substring/">Simple</a></p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">longestNiceSubstring</span>(<span class="params">self, s: <span class="built_in">str</span></span>) -&gt; <span class="built_in">str</span>:</span></span><br><span class="line">        n = <span class="built_in">len</span>(s)</span><br><span class="line">        maxPos, maxLen = <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">            lower, upper = <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(i, n):</span><br><span class="line">                <span class="keyword">if</span> s[j].islower():</span><br><span class="line">                    lower |= <span class="number">1</span> &lt;&lt; (<span class="built_in">ord</span>(s[j]) - <span class="built_in">ord</span>(<span class="string">'a'</span>))</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    upper |= <span class="number">1</span> &lt;&lt; (<span class="built_in">ord</span>(s[j]) - <span class="built_in">ord</span>(<span class="string">'A'</span>))</span><br><span class="line">                <span class="keyword">if</span> lower == upper <span class="keyword">and</span> j - i + <span class="number">1</span> &gt; maxLen:</span><br><span class="line">                    maxPos = i</span><br><span class="line">                    maxLen = j - i + <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> s[maxPos: maxPos + maxLen]</span><br></pre></td></tr></tbody></table></figure>
<h2 id="number-of-string-that-appear-as-substrings-in-word-font-colormagenta2022-06-17font"><span class="post-title-index">10.3. </span><a class="markdownIt-Anchor" href="#number-of-string-that-appear-as-substrings-in-word-font-colormagenta2022-06-17font"></a> Number of String That Appear as Substrings in Word <font color="magenta">[2022-06-17]</font></h2>
<p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/number-of-strings-that-appear-as-substrings-in-word/">Simple</a></p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">numOfStrings</span>(<span class="params">self, patterns: <span class="type">List</span>[<span class="built_in">str</span>], word: <span class="built_in">str</span></span>) -&gt; <span class="built_in">int</span>:</span></span><br><span class="line">        ans = <span class="number">0</span></span><br><span class="line">        n = <span class="built_in">len</span>(word)</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">check</span>(<span class="params">pa</span>):</span></span><br><span class="line">            m = <span class="built_in">len</span>(pa)</span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n - m + <span class="number">1</span>):</span><br><span class="line">                <span class="keyword">if</span> word[i : i + m] == pa:</span><br><span class="line">                    <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> pa <span class="keyword">in</span> patterns:</span><br><span class="line">            ans += check(pa)</span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></tbody></table></figure>
<h2 id="coordinate-with-maximum-network-quality-font-colormagenta2022-05-10font"><span class="post-title-index">10.4. </span><a class="markdownIt-Anchor" href="#coordinate-with-maximum-network-quality-font-colormagenta2022-05-10font"></a> Coordinate with Maximum Network Quality <font color="magenta">[2022-05-10]</font></h2>
<p>An array of network towers <code>towers</code> is given, where
<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>t</mi><mi>o</mi><mi>w</mi><mi>e</mi><mi>r</mi><mi>s</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo>=</mo><mo stretchy="false">[</mo><msub><mi>x</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>y</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>q</mi><mi>i</mi></msub><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">towers[i] = [x_i, y_i, q_i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">t</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">s</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span>. <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>x</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">x_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> and <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>y</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">y_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> are the integral coordinates of
the network tower location and <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>q</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">q_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> is the network quality factor. The network
quality of <code>towers[i]</code> at <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x, y)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span></span> is <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>q</mi><mi>i</mi></msub><mi mathvariant="normal">/</mi><mo stretchy="false">(</mo><mn>1</mn><mo>+</mo><mi>d</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">q_i / (1 + d)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">/</span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">d</span><span class="mclose">)</span></span></span></span> where
<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi><mo>=</mo><msqrt><mrow><mo stretchy="false">(</mo><mi>x</mi><mo>−</mo><msub><mi>x</mi><mi>i</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>+</mo><mo stretchy="false">(</mo><mi>y</mi><mo>−</mo><msub><mi>y</mi><mi>i</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow></msqrt></mrow><annotation encoding="application/x-tex">d = \sqrt{(x - x_i)^2 + (y - y_i)^2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">d</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.24em;vertical-align:-0.30499999999999994em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.935em;"><span class="svg-align" style="top:-3.2em;"><span class="pstrut" style="height:3.2em;"></span><span class="mord" style="padding-left:1em;"><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.740108em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.740108em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-2.8950000000000005em;"><span class="pstrut" style="height:3.2em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.28em;"><svg width="400em" height="1.28em" viewBox="0 0 400000 1296" preserveAspectRatio="xMinYMin slice"><path d="M263,681c0.7,0,18,39.7,52,119c34,79.3,68.167,
158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120c340,-704.7,510.7,-1060.3,512,-1067
c4.7,-7.3,11,-11,19,-11H40000v40H1012.3s-271.3,567,-271.3,567c-38.7,80.7,-84,
175,-136,283c-52,108,-89.167,185.3,-111.5,232c-22.3,46.7,-33.8,70.3,-34.5,71
c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1s-109,-253,-109,-253c-72.7,-168,-109.3,
-252,-110,-252c-10.7,8,-22,16.7,-34,26c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26
s76,-59,76,-59s76,-60,76,-60z M1001 80H40000v40H1012z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.30499999999999994em;"><span></span></span></span></span></span></span></span></span>.</p>
<p>You are also given an integer <code>radius</code>. All the tower is not reachable if and
only if <code>d &gt; radius</code>.</p>
<p>The network quality of a location is the sum of network qualities from all
towers. Return the location with the maximum network quality.</p>
<p>If there are multiple coordinates with the same network quality, return the
lexicographically minimum non-negative coordinate.</p>
<p>Constraints:</p>
<ol>
<li>1 &lt;= towers.length &lt;= 50</li>
<li>towers[i].length == 3</li>
<li>0 &lt;= <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>x</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">x_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>, <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>y</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">y_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>, <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>q</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">q_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> &lt;=50</li>
<li>1 &lt;= radius &lt;= 50</li>
</ol>
<h3 id="analysis-2"><span class="post-title-index">10.4.1. </span><a class="markdownIt-Anchor" href="#analysis-2"></a> Analysis</h3>
<p>For 0 &lt;= <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>x</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">x_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>, <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>y</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">y_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>, <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>q</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">q_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> &lt;=50, if x or y is large than 51, it can not be the
answer. All the network quality will be stronger when x or y is smaller. Thus,
we do only need to search within [0, 51].</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> math</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">bestCoordinate</span>(<span class="params">self, towers: <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">int</span>]], radius: <span class="built_in">int</span></span>) -&gt; <span class="type">List</span>[<span class="built_in">int</span>]:</span></span><br><span class="line">        max_signal, x, y = <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">        <span class="comment"># search from small coordinate to large then we will get the small coordinate first</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">51</span>):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">51</span>):</span><br><span class="line">                signal_ij = <span class="number">0</span></span><br><span class="line">                <span class="keyword">for</span> tower <span class="keyword">in</span> towers:</span><br><span class="line">                    delta_x, delta_y = tower[<span class="number">0</span>] - i, tower[<span class="number">1</span>] - j</span><br><span class="line">                    d = math.sqrt(delta_x * delta_x + delta_y * delta_y)</span><br><span class="line">                    <span class="comment"># if &gt; radius no quality</span></span><br><span class="line">                    <span class="keyword">if</span> d &gt; radius:</span><br><span class="line">                        <span class="keyword">continue</span></span><br><span class="line">                      <span class="comment"># use floor</span></span><br><span class="line">                    signal_ij += math.floor(tower[<span class="number">2</span>] / (<span class="number">1</span> + d))</span><br><span class="line">                <span class="keyword">if</span> signal_ij &gt; max_signal:</span><br><span class="line">                    max_signal, x, y = signal_ij, i, j</span><br><span class="line">        <span class="keyword">return</span> [x, y]</span><br></pre></td></tr></tbody></table></figure>
<h1 id="flip-the-char"><span class="post-title-index">11. </span><a class="markdownIt-Anchor" href="#flip-the-char"></a> Flip the Char</h1>
<h2 id="flip-the-char-font-colormagenta2022-06-16font"><span class="post-title-index">11.1. </span><a class="markdownIt-Anchor" href="#flip-the-char-font-colormagenta2022-06-16font"></a> Flip the Char <font color="magenta">[2022-06-16]</font></h2>
<p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/cyJERH/">here</a></p>
<p>The position ‘max_idx’ that the number of <code>0</code> on the left hand - the number of
<code>1</code> on the left hand get the maximum is the dividing line of <code>0</code> and <code>1</code>.</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">minFlipsMonoIncr</span>(<span class="params">self, s: <span class="built_in">str</span></span>) -&gt; <span class="built_in">int</span>:</span></span><br><span class="line">        num_0 = <span class="number">0</span></span><br><span class="line">        num_1 = <span class="number">0</span></span><br><span class="line">        max_off_set = <span class="number">0</span></span><br><span class="line">        max_num_0 = <span class="number">0</span></span><br><span class="line">        max_num_1 = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> idx, num <span class="keyword">in</span> <span class="built_in">enumerate</span>(s):</span><br><span class="line">            <span class="keyword">if</span> num == <span class="string">"0"</span>:</span><br><span class="line">                num_0 += <span class="number">1</span></span><br><span class="line">                off_set = num_0 - num_1</span><br><span class="line">                <span class="keyword">if</span> off_set &gt; max_off_set:</span><br><span class="line">                    max_off_set = off_set</span><br><span class="line">                    max_idx = idx</span><br><span class="line">                    max_num_0 = num_0</span><br><span class="line">                    max_num_1 = num_1</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                num_1 += <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> num_0 - max_num_0 + max_num_1</span><br></pre></td></tr></tbody></table></figure>
<h1 id="stack"><span class="post-title-index">12. </span><a class="markdownIt-Anchor" href="#stack"></a> Stack</h1>
<h2 id="valid-parentheses-font-colormagenta2022-06-17font"><span class="post-title-index">12.1. </span><a class="markdownIt-Anchor" href="#valid-parentheses-font-colormagenta2022-06-17font"></a> Valid Parentheses <font color="magenta">[2022-06-17]</font></h2>
<p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/valid-parentheses/">here</a></p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isValid</span>(<span class="params">self, s: <span class="built_in">str</span></span>) -&gt; <span class="built_in">bool</span>:</span></span><br><span class="line">        dic = {<span class="string">')'</span> : <span class="string">'('</span>,</span><br><span class="line">        <span class="string">'}'</span> : <span class="string">'{'</span>,</span><br><span class="line">        <span class="string">']'</span> : <span class="string">'['</span></span><br><span class="line">        }</span><br><span class="line">        res = []</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> s:</span><br><span class="line">            <span class="keyword">if</span> i <span class="keyword">in</span> dic:</span><br><span class="line">                <span class="keyword">if</span> <span class="keyword">not</span> res:</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">                cur = res.pop()</span><br><span class="line">                <span class="keyword">if</span> cur != dic[i]:</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                res.append(i)</span><br><span class="line">        <span class="keyword">if</span> res:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br></pre></td></tr></tbody></table></figure>
<h1 id="other"><span class="post-title-index">13. </span><a class="markdownIt-Anchor" href="#other"></a> Other</h1>
<h2 id="minimum-cost-to-set-cooking-time-font-colormagenta2022-06-29font"><span class="post-title-index">13.1. </span><a class="markdownIt-Anchor" href="#minimum-cost-to-set-cooking-time-font-colormagenta2022-06-29font"></a> Minimum Cost to Set Cooking Time <font color="magenta">[2022-06-29]</font></h2>
<p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/minimum-cost-to-set-cooking-time/">Medium</a></p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">minCostSetTime</span>(<span class="params">self, startAt: <span class="built_in">int</span>, moveCost: <span class="built_in">int</span>, pushCost: <span class="built_in">int</span>, targetSeconds: <span class="built_in">int</span></span>) -&gt; <span class="built_in">int</span>:</span></span><br><span class="line">        <span class="comment"># 给定输入的最小花费</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">cost</span>(<span class="params">m: <span class="built_in">int</span>, s: <span class="built_in">int</span></span>) -&gt; <span class="built_in">int</span>:</span></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> (<span class="number">0</span> &lt;= m &lt;= <span class="number">99</span> <span class="keyword">and</span> <span class="number">0</span> &lt;= s &lt;= <span class="number">99</span>):</span><br><span class="line">                <span class="comment"># 输入不合法</span></span><br><span class="line">                <span class="keyword">return</span> <span class="built_in">float</span>(<span class="string">"INF"</span>)</span><br><span class="line">            digits = [m // <span class="number">10</span>, m % <span class="number">10</span>, s // <span class="number">10</span>, s % <span class="number">10</span>]</span><br><span class="line">            <span class="comment"># 寻找起始位</span></span><br><span class="line">…                    res += moveCost</span><br><span class="line">                res += pushCost</span><br><span class="line">            <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line">        mm, ss = targetSeconds // <span class="number">60</span>, targetSeconds % <span class="number">60</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">min</span>(cost(mm, ss), cost(mm - <span class="number">1</span>, ss + <span class="number">60</span>))   <span class="comment"># 两种可能方案的较小值</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="random-pick-with-weight-font-colormagenta2022-06-26font"><span class="post-title-index">13.2. </span><a class="markdownIt-Anchor" href="#random-pick-with-weight-font-colormagenta2022-06-26font"></a> Random Pick with Weight <font color="magenta">[2022-06-26]</font></h2>
<p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/random-pick-with-weight/">Medium</a></p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, w: <span class="type">List</span>[<span class="built_in">int</span>]</span>):</span></span><br><span class="line">        self.array = []</span><br><span class="line">        res = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> w:</span><br><span class="line">            res += i</span><br><span class="line">            self.array.append(res)</span><br><span class="line">        self.<span class="built_in">sum</span> = res</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">pickIndex</span>(<span class="params">self</span>) -&gt; <span class="built_in">int</span>:</span></span><br><span class="line">        <span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">        <span class="keyword">import</span> bisect</span><br><span class="line">        num = np.random.uniform(<span class="number">0</span>, self.<span class="built_in">sum</span>, <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> bisect.bisect_left/right(self.array, num)</span><br></pre></td></tr></tbody></table></figure>
<h2 id="intersections-of-two-arrays-ii-font-colormagenta2022-06-25font"><span class="post-title-index">13.3. </span><a class="markdownIt-Anchor" href="#intersections-of-two-arrays-ii-font-colormagenta2022-06-25font"></a> Intersections of Two Arrays II <font color="magenta">[2022-06-25]</font></h2>
<p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/intersection-of-two-arrays-ii/">Simple</a></p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">intersect</span>(<span class="params">self, nums1: <span class="type">List</span>[<span class="built_in">int</span>], nums2: <span class="type">List</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="type">List</span>[<span class="built_in">int</span>]:</span></span><br><span class="line">        ans = []</span><br><span class="line">        res1 = defaultdict(<span class="keyword">lambda</span> : <span class="number">0</span>)</span><br><span class="line">        res2 = defaultdict(<span class="keyword">lambda</span> : <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> nums1:</span><br><span class="line">            res1[i] += <span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> nums2:</span><br><span class="line">            res2[i] += <span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> key <span class="keyword">in</span> res1:</span><br><span class="line">            <span class="keyword">if</span> key <span class="keyword">in</span> res2:</span><br><span class="line">                num = <span class="built_in">min</span>(res1[key], res2[key])</span><br><span class="line">                ans += [key] * num</span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></tbody></table></figure>
<h2 id="check-if-there-is-a-valid-path-in-a-grid-font-colormagenta2022-06-21font"><span class="post-title-index">13.4. </span><a class="markdownIt-Anchor" href="#check-if-there-is-a-valid-path-in-a-grid-font-colormagenta2022-06-21font"></a> Check if There is a Valid Path in a Grid <font color="magenta">[2022-06-21]</font></h2>
<p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/check-if-there-is-a-valid-path-in-a-grid/">medium</a></p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">hasValidPath</span>(<span class="params">self, grid: <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">int</span>]]</span>) -&gt; <span class="built_in">bool</span>:</span></span><br><span class="line">        res = {</span><br><span class="line">        <span class="number">1</span> :[[<span class="number">0</span>, -<span class="number">1</span>], [<span class="number">0</span>, <span class="number">1</span>]],</span><br><span class="line">        <span class="number">2</span>: [[-<span class="number">1</span>, <span class="number">0</span>], [<span class="number">1</span>, <span class="number">0</span>]],</span><br><span class="line">        <span class="number">3</span>: [[<span class="number">0</span>, -<span class="number">1</span>], [<span class="number">1</span>, <span class="number">0</span>]],</span><br><span class="line">        <span class="number">4</span>: [[<span class="number">0</span>, <span class="number">1</span>], [<span class="number">1</span>, <span class="number">0</span>]],</span><br><span class="line">        <span class="number">5</span>: [[<span class="number">0</span>, -<span class="number">1</span>], [-<span class="number">1</span>, <span class="number">0</span>]],</span><br><span class="line">        <span class="number">6</span>: [[<span class="number">0</span>, <span class="number">1</span>], [-<span class="number">1</span>, <span class="number">0</span>]],</span><br><span class="line">        }</span><br><span class="line">        n = <span class="built_in">len</span>(grid)</span><br><span class="line">        m = <span class="built_in">len</span>(grid[<span class="number">0</span>])</span><br><span class="line">        <span class="keyword">if</span> n == m == <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">to_position</span>(<span class="params">position, direction</span>):</span></span><br><span class="line">            <span class="keyword">return</span> [position[<span class="number">0</span>] + direction[<span class="number">0</span>], position[<span class="number">1</span>] + direction[<span class="number">1</span>]]</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">reach</span>(<span class="params">cur</span>):</span></span><br><span class="line">            pre = [<span class="number">0</span>, <span class="number">0</span>]</span><br><span class="line">            <span class="keyword">while</span> cur != [<span class="number">0</span>, <span class="number">0</span>] <span class="keyword">and</span> <span class="number">0</span> &lt;= cur[<span class="number">0</span>] &lt; n <span class="keyword">and</span> <span class="number">0</span> &lt;= cur[<span class="number">1</span>] &lt; m:</span><br><span class="line">                nex1 = to_position(cur, res[grid[cur[<span class="number">0</span>]][cur[<span class="number">1</span>]]][<span class="number">0</span>])</span><br><span class="line">                nex2 = to_position(cur, res[grid[cur[<span class="number">0</span>]][cur[<span class="number">1</span>]]][<span class="number">1</span>])</span><br><span class="line">                <span class="keyword">if</span> nex1 != pre <span class="keyword">and</span> nex2 != pre:</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">                <span class="comment"># be careful about the position of checking if reach the destination</span></span><br><span class="line">                <span class="comment"># can not be after `cur = nex`, because it can be reachable only</span></span><br><span class="line">                 <span class="comment"># checked nex1 or nex2 == pre</span></span><br><span class="line">                <span class="keyword">if</span> cur == [n - <span class="number">1</span>, m - <span class="number">1</span>]:</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">                nex = nex1 <span class="keyword">if</span> nex1 != pre <span class="keyword">else</span> nex2</span><br><span class="line">                pre = cur</span><br><span class="line">                cur = nex</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        start = [<span class="number">0</span>, <span class="number">0</span>]</span><br><span class="line">        cur1 = to_position(start, res[grid[<span class="number">0</span>][<span class="number">0</span>]][<span class="number">0</span>])</span><br><span class="line">        cur2 = to_position(start, res[grid[<span class="number">0</span>][<span class="number">0</span>]][<span class="number">1</span>])</span><br><span class="line">        <span class="keyword">return</span> reach(cur1) <span class="keyword">or</span> reach(cur2)</span><br></pre></td></tr></tbody></table></figure>
<h2 id="find-k-th-smallest-pair-distance-font-colormagenta2022-07-06font"><span class="post-title-index">13.5. </span><a class="markdownIt-Anchor" href="#find-k-th-smallest-pair-distance-font-colormagenta2022-07-06font"></a> Find K-th Smallest Pair distance <font color="magenta">[2022-07-06]</font></h2>
<p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/find-k-th-smallest-pair-distance/">Hard</a></p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">smallestDistancePair</span>(<span class="params">self, nums: <span class="type">List</span>[<span class="built_in">int</span>], k: <span class="built_in">int</span></span>) -&gt; <span class="built_in">int</span>:</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">count</span>(<span class="params">mid: <span class="built_in">int</span></span>) -&gt; <span class="built_in">int</span>:</span></span><br><span class="line">            <span class="comment"># count the pairs whose distance smaller and equil to mid</span></span><br><span class="line">            cnt = <span class="number">0</span></span><br><span class="line">            <span class="keyword">for</span> j, num <span class="keyword">in</span> <span class="built_in">enumerate</span>(nums):</span><br><span class="line">                <span class="comment"># when num is the larger one in the pair</span></span><br><span class="line">                <span class="comment"># the number in some position could be the</span></span><br><span class="line">                <span class="comment"># smaller one, it must larger than num - mid</span></span><br><span class="line">                i = bisect_left(nums, num - mid, <span class="number">0</span>, j)</span><br><span class="line">                cnt += j - i</span><br><span class="line">            <span class="keyword">return</span> cnt</span><br><span class="line"></span><br><span class="line">        nums.sort()</span><br><span class="line"></span><br><span class="line">        <span class="comment"># The answer must be in range(0, nums[-1] - nums[0])</span></span><br><span class="line">        <span class="comment"># when pick a number in the range, we count the pair of numbers</span></span><br><span class="line">        <span class="comment"># whose distance is smaller or equal than it.</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># for example, if number 5, 6, 7, 8 have count k - 1, k, k, k +1</span></span><br><span class="line">        <span class="comment"># the answer will be 6, 5 has k - 1 pairs smaller or equal</span></span><br><span class="line">        <span class="comment"># 6 has k, thus will have pairs distance euqal to 6, and it is</span></span><br><span class="line">        <span class="comment"># the top-k smallest distance.</span></span><br><span class="line">        <span class="comment"># there are no pair whose distance is 7</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># if  number 5, 6, 7 have count k - 10, k + 10, k + 20</span></span><br><span class="line">        <span class="comment"># the answer is 6, there is 20 pairs whose distace is 6, and</span></span><br><span class="line">        <span class="comment"># and the top-k smallest distance is in them.</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># if the number nums[-1] - nums[0] - 1  has n counts and k &gt; n</span></span><br><span class="line">        <span class="comment"># then k will be nums[-1] - nums[0]</span></span><br><span class="line">        <span class="comment"># thus, we need to use bisect_left and do not need to exame</span></span><br><span class="line">        <span class="comment"># nums[-1] - nums[0]</span></span><br><span class="line">        <span class="keyword">return</span> bisect_left(<span class="built_in">range</span>(nums[-<span class="number">1</span>] - nums[<span class="number">0</span>]), k, key=count)</span><br></pre></td></tr></tbody></table></figure>
<h2 id="maximum-number-of-visible-points-font-colormagenta2022-06-19font"><span class="post-title-index">13.6. </span><a class="markdownIt-Anchor" href="#maximum-number-of-visible-points-font-colormagenta2022-06-19font"></a> Maximum Number of Visible Points <font color="magenta">[2022-06-19]</font></h2>
<p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/maximum-number-of-visible-points/">hard</a></p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">visiblePoints</span>(<span class="params">self, points: <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">int</span>]], angle: <span class="built_in">int</span>, location: <span class="type">List</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="built_in">int</span>:</span></span><br><span class="line">        sameCnt = <span class="number">0</span></span><br><span class="line">        polarDegrees = []</span><br><span class="line">        <span class="keyword">for</span> p <span class="keyword">in</span> points:</span><br><span class="line">            <span class="keyword">if</span> p == location:</span><br><span class="line">                sameCnt += <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="comment"># obain all the angles the range is (-pi, pi]</span></span><br><span class="line">                polarDegrees.append(atan2(p[<span class="number">1</span>] - location[<span class="number">1</span>], p[<span class="number">0</span>] - location[<span class="number">0</span>]))</span><br><span class="line"></span><br><span class="line">        polarDegrees.sort()</span><br><span class="line"></span><br><span class="line">        n = <span class="built_in">len</span>(polarDegrees)</span><br><span class="line">        <span class="comment"># and 2 pi, the -pi will changed to pi, and thus -pi and pi</span></span><br><span class="line">        <span class="comment"># will be adjoined to each other</span></span><br><span class="line">        <span class="comment"># deg and deg + 2pi are both counted only if the angle is 2pi</span></span><br><span class="line">        polarDegrees += [deg + <span class="number">2</span> * pi <span class="keyword">for</span> deg <span class="keyword">in</span> polarDegrees]</span><br><span class="line"></span><br><span class="line">        <span class="comment"># change the degree into pi</span></span><br><span class="line">        degree = angle * pi / <span class="number">180</span></span><br><span class="line">        <span class="comment"># bisect_right/bisect_left require from bisect import xxxx</span></span><br><span class="line">        <span class="comment"># both bisect_right or bisect_left return the index that the val</span></span><br><span class="line">        <span class="comment"># placed in to the array and keeps the array ranked.</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># when there are numbers equal to val bisect_right places the val to the right</span></span><br><span class="line">        <span class="comment"># side of the equaled numbers, thus the returned value is the number of digits</span></span><br><span class="line">        <span class="comment"># smaller and equil to val in the array</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># bisect_left places the val to the left side of the equaled numbers. Thus the</span></span><br><span class="line">        <span class="comment"># returned value is the number of digits smaller to the val in the array</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># here bisect_right should be used</span></span><br><span class="line">        maxCnt = <span class="built_in">max</span>((bisect_right(polarDegrees, polarDegrees[i] + degree) - i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n)), default=<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> maxCnt + sameCnt</span><br></pre></td></tr></tbody></table></figure>
<h2 id="number-of-different-integers-in-a-string-font-colormagenta2022-06-17font"><span class="post-title-index">13.7. </span><a class="markdownIt-Anchor" href="#number-of-different-integers-in-a-string-font-colormagenta2022-06-17font"></a> Number of Different Integers in a String <font color="magenta">[2022-06-17]</font></h2>
<p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/number-of-different-integers-in-a-string/">here</a></p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">numDifferentIntegers</span>(<span class="params">self, word: <span class="built_in">str</span></span>) -&gt; <span class="built_in">int</span>:</span></span><br><span class="line">        res = <span class="built_in">set</span>()</span><br><span class="line">        cur = <span class="number">0</span></span><br><span class="line">        word += <span class="string">'a'</span></span><br><span class="line">        flag = <span class="literal">False</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> word:</span><br><span class="line">            <span class="keyword">if</span> i.isdigit():</span><br><span class="line">                flag = <span class="literal">True</span></span><br><span class="line">                cur = cur * <span class="number">10</span> + <span class="built_in">int</span>(i)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">if</span> flag:</span><br><span class="line">                    res.add(cur)</span><br><span class="line">                    cur = <span class="number">0</span></span><br><span class="line">                    flag = <span class="literal">False</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">len</span>(res)</span><br></pre></td></tr></tbody></table></figure>
<h2 id="max-length-of-pair-chain-font-colormagenta2022-06-16font"><span class="post-title-index">13.8. </span><a class="markdownIt-Anchor" href="#max-length-of-pair-chain-font-colormagenta2022-06-16font"></a> Max Length of Pair Chain <font color="magenta">[2022-06-16]</font></h2>
<p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/maximum-length-of-pair-chain/">here</a></p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findLongestChain</span>(<span class="params">self, pairs: <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">int</span>]]</span>) -&gt; <span class="built_in">int</span>:</span></span><br><span class="line">        res  = <span class="built_in">sorted</span>(pairs, key = <span class="keyword">lambda</span> a: a[<span class="number">1</span>])</span><br><span class="line">        ans = [res[<span class="number">0</span>]]</span><br><span class="line">        n = <span class="built_in">len</span>(res)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, n):</span><br><span class="line">            <span class="keyword">if</span> ans[-<span class="number">1</span>][-<span class="number">1</span>] &lt; res[i][<span class="number">0</span>]:</span><br><span class="line">                ans.append(res[i])</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">len</span>(ans)</span><br></pre></td></tr></tbody></table></figure>
<h2 id="two-city-scheduling-font-colormagenta2022-06-16font"><span class="post-title-index">13.9. </span><a class="markdownIt-Anchor" href="#two-city-scheduling-font-colormagenta2022-06-16font"></a> Two City Scheduling <font color="magenta">[2022-06-16]</font></h2>
<p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/two-city-scheduling/">here</a></p>
<p>Think about how to divide these people.</p>
<ul>
<li>The gain of changing the people from one city to another is only related to
the difference between the costs of a and b.</li>
<li>Thus, we can set the cost of a always 0, and set the cost of b to cost(b) -
cost(a).</li>
<li>The cost of a is always 0 and we only need to pick n people to b which reach
the minimum cost.</li>
</ul>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">twoCitySchedCost</span>(<span class="params">self, costs: <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">int</span>]]</span>) -&gt; <span class="built_in">int</span>:</span></span><br><span class="line">        res = [a[<span class="number">1</span>] - a[<span class="number">0</span>] <span class="keyword">for</span> a <span class="keyword">in</span> costs]</span><br><span class="line">        nn = <span class="built_in">len</span>(res)</span><br><span class="line">        sort_idx = <span class="built_in">sorted</span>(<span class="built_in">range</span>(nn), key = <span class="keyword">lambda</span> k: res[k], reverse = <span class="literal">False</span>)</span><br><span class="line">        cost = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(nn // <span class="number">2</span>):</span><br><span class="line">            cost += costs[sort_idx[i]][<span class="number">1</span>]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(nn // <span class="number">2</span>, nn):</span><br><span class="line">            cost += costs[sort_idx[i]][<span class="number">0</span>]</span><br><span class="line">        <span class="keyword">return</span> cost</span><br></pre></td></tr></tbody></table></figure>
<h2 id="exchange-lcci-font-colormagenta2022-06-16font"><span class="post-title-index">13.10. </span><a class="markdownIt-Anchor" href="#exchange-lcci-font-colormagenta2022-06-16font"></a> Exchange LCCI <font color="magenta">[2022-06-16]</font></h2>
<p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/exchange-lcci/">here</a></p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">exchangeBits</span>(<span class="params">self, num: <span class="built_in">int</span></span>) -&gt; <span class="built_in">int</span>:</span></span><br><span class="line">        num_bin = <span class="built_in">bin</span>(num)</span><br><span class="line">        n = <span class="built_in">len</span>(num_bin)</span><br><span class="line">        res = <span class="string">''</span></span><br><span class="line">        start = <span class="number">2</span></span><br><span class="line">        <span class="keyword">if</span> n % <span class="number">2</span>:</span><br><span class="line">            res += <span class="string">'10'</span></span><br><span class="line">            start = <span class="number">3</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(start, n, <span class="number">2</span>):</span><br><span class="line">            res += num_bin[i + <span class="number">1</span>]</span><br><span class="line">            res += num_bin[i]</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">int</span>(res, <span class="number">2</span>)</span><br></pre></td></tr></tbody></table></figure>
<h2 id="the-first-char-which-only-appears-once-font-colormagenta2022-06-16font"><span class="post-title-index">13.11. </span><a class="markdownIt-Anchor" href="#the-first-char-which-only-appears-once-font-colormagenta2022-06-16font"></a> The First Char which Only Appears once <font color="magenta">[2022-06-16]</font></h2>
<p>The topic is
<a target="_blank" rel="noopener" href="https://leetcode.cn/problems/di-yi-ge-zhi-chu-xian-yi-ci-de-zi-fu-lcof/">here</a>.</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">firstUniqChar</span>(<span class="params">self, s: <span class="built_in">str</span></span>) -&gt; <span class="built_in">str</span>:</span></span><br><span class="line">        res = collections.defaultdict(<span class="keyword">lambda</span>: [<span class="number">0</span>, <span class="number">1</span>])</span><br><span class="line">        <span class="keyword">for</span> idx, c <span class="keyword">in</span> <span class="built_in">enumerate</span>(s):</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> c <span class="keyword">in</span> res:</span><br><span class="line">                res[c][<span class="number">0</span>] = idx</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                res[c][<span class="number">1</span>] += <span class="number">1</span></span><br><span class="line">        ans = <span class="string">" "</span></span><br><span class="line">        min_idx = <span class="built_in">len</span>(s)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> res:</span><br><span class="line">            <span class="keyword">if</span> res[i][<span class="number">1</span>] == <span class="number">1</span> <span class="keyword">and</span> res[i][<span class="number">0</span>] &lt; min_idx:</span><br><span class="line">                min_idx = res[i][<span class="number">0</span>]</span><br><span class="line">                ans = i</span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></tbody></table></figure>
<h2 id="the-gas-station"><span class="post-title-index">13.12. </span><a class="markdownIt-Anchor" href="#the-gas-station"></a> The Gas Station</h2>
<p>There are <code>n</code> stations along a circular route, where the amount of gas at the
<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>i</mi><mrow><mi>t</mi><mi>h</mi></mrow></msup></mrow><annotation encoding="application/x-tex">i^{th}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.849108em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">i</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">t</span><span class="mord mathdefault mtight">h</span></span></span></span></span></span></span></span></span></span></span></span> station is gas[i].</p>
<p>A car costs cost[i] of gas to travel from the <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>i</mi><mrow><mi>t</mi><mi>h</mi></mrow></msup></mrow><annotation encoding="application/x-tex">i^{th}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.849108em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">i</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">t</span><span class="mord mathdefault mtight">h</span></span></span></span></span></span></span></span></span></span></span></span> station to its next
<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi>i</mi><mo>+</mo><mn>1</mn><msup><mo stretchy="false">)</mo><mrow><mi>t</mi><mi>h</mi></mrow></msup></mrow><annotation encoding="application/x-tex">(i + 1)^{th}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.099108em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">t</span><span class="mord mathdefault mtight">h</span></span></span></span></span></span></span></span></span></span></span></span> station.</p>
<p>Can the car run a circle. If can, return the start station. If not, return -1.
If there exists a solution, it is guaranteed to be the unique.</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">canCompleteCircuit</span>(<span class="params">self, gas: <span class="type">List</span>[<span class="built_in">int</span>], cost: <span class="type">List</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="built_in">int</span></span></span><br><span class="line"><span class="function">        n = <span class="built_in">len</span>(gas)</span></span><br><span class="line"><span class="function">        res = [0] * n</span></span><br><span class="line"><span class="function">        # a car <span class="keyword">pass</span> station i, it can get gas[i] <span class="keyword">and</span> cost</span></span><br><span class="line"><span class="function">        # cost[i]. Thus gets gas[i] - cost[i].</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">        # <span class="keyword">if</span> <span class="keyword">in</span> station i, gas[i] - cost[i] &gt;= 0, it can</span></span><br><span class="line"><span class="function">        # arrive the <span class="built_in">next</span> station.</span></span><br><span class="line"><span class="function">        # after arrive the <span class="built_in">next</span> station, <span class="keyword">and</span> gets the station</span></span><br><span class="line"><span class="function">        # <span class="keyword">if</span> the remain &gt;= 0 it can gets the <span class="built_in">next</span> <span class="built_in">next</span> station.</span></span><br><span class="line"><span class="function">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span></span><br><span class="line">            res[i] = gas[i] - cost[i]</span><br><span class="line">        first = <span class="number">0</span></span><br><span class="line">        second = <span class="number">0</span></span><br><span class="line">        sum_ = res[<span class="number">0</span>]</span><br><span class="line">        key = <span class="literal">False</span></span><br><span class="line">        <span class="comment"># second represents the station the car already getting.</span></span><br><span class="line">        <span class="comment"># first represents the starting station.</span></span><br><span class="line">        <span class="comment"># sum_ represents if the car can get the next staion.</span></span><br><span class="line">        <span class="comment"># if sum_ &gt;= 0, it can, else, it can not.</span></span><br><span class="line">        <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">            <span class="keyword">if</span> sum_ &gt;= <span class="number">0</span>:</span><br><span class="line">                second += <span class="number">1</span></span><br><span class="line">                <span class="keyword">if</span> second == n:</span><br><span class="line">                    second = <span class="number">0</span></span><br><span class="line">                    key = <span class="literal">True</span></span><br><span class="line">                <span class="keyword">if</span> key <span class="keyword">and</span> second == first:</span><br><span class="line">                    <span class="keyword">return</span> first</span><br><span class="line">                sum_ += res[second]</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                sum_ -= res[first]</span><br><span class="line">                first += <span class="number">1</span></span><br><span class="line">                <span class="comment"># from 0 to n, first do not find an answer, return -1.</span></span><br><span class="line">                <span class="keyword">if</span> first == n:</span><br><span class="line">                    <span class="keyword">return</span> -<span class="number">1</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    <span class="keyword">if</span> first &gt; second:</span><br><span class="line">                        second += <span class="number">1</span></span><br><span class="line">                        sum_ += res[second</span><br></pre></td></tr></tbody></table></figure>
<p>Consider this, if y is the first station that the car can not arrive from x.
That is to say <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mi>y</mi></mrow><mi>x</mi></msubsup><mi>r</mi><mi>e</mi><mi>s</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo>&lt;</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\sum_{i = y}^x res[i] &lt; 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.24011em;vertical-align:-0.43581800000000004em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.804292em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mrel mtight">=</span><span class="mord mathdefault mtight" style="margin-right:0.03588em;">y</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.43581800000000004em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">e</span><span class="mord mathdefault">s</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>. For a station z between x and y. It
can arrive z from x, which means the sum <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>&gt;</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">&gt; 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>. Then from z to y, the sum is
definitely <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>&lt;</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">&lt; 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>. It can not arrive y from z.</p>
<p>Thus, if a car can not arrive y from x, it can not arrive y from any station
between x and y. It is no need to search such stations.</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">canCompleteCircuit</span>(<span class="params">self, gas: <span class="type">List</span>[<span class="built_in">int</span>], cost: <span class="type">List</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="built_in">int</span>:</span></span><br><span class="line">        n = <span class="built_in">len</span>(gas)</span><br><span class="line">        res = [<span class="number">0</span>] * n</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">            res[i] = gas[i] - cost[i]</span><br><span class="line">        first = <span class="number">0</span></span><br><span class="line">        second = <span class="number">0</span></span><br><span class="line">        sum_ = res[<span class="number">0</span>]</span><br><span class="line">        key = <span class="literal">False</span></span><br><span class="line">        <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">            <span class="keyword">if</span> sum_ &gt;= <span class="number">0</span>:</span><br><span class="line">                second += <span class="number">1</span></span><br><span class="line">                <span class="keyword">if</span> second == n:</span><br><span class="line">                    second = <span class="number">0</span></span><br><span class="line">                    key = <span class="literal">True</span></span><br><span class="line">                <span class="keyword">if</span> key <span class="keyword">and</span> second == first:</span><br><span class="line">                    <span class="keyword">return</span> first</span><br><span class="line">                sum_ += res[second]</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">            <span class="comment"># if can not arrive second + 1, then</span></span><br><span class="line">            <span class="comment"># starting from second + 1</span></span><br><span class="line">                second += <span class="number">1</span></span><br><span class="line">                first = second</span><br><span class="line">                <span class="comment"># if the new starting point equal or bigger than</span></span><br><span class="line">                <span class="comment"># n, first move from 0 to n fails to find.</span></span><br><span class="line">                <span class="comment"># if key is True, second + 1 is actually larger than</span></span><br><span class="line">                <span class="comment"># n, first move from 0 to n fails to find.</span></span><br><span class="line">                <span class="keyword">if</span> first == n <span class="keyword">or</span> key:</span><br><span class="line">                    <span class="keyword">return</span> -<span class="number">1</span></span><br><span class="line">                sum_ = res[first]</span><br></pre></td></tr></tbody></table></figure>
<h2 id="maximum-number-of-tasks-you-can-assign-font-colormagenta2022-05-11font"><span class="post-title-index">13.13. </span><a class="markdownIt-Anchor" href="#maximum-number-of-tasks-you-can-assign-font-colormagenta2022-05-11font"></a> Maximum Number of Tasks You Can Assign <font color="magenta">[2022-05-11]</font></h2>
<p>The topic is
<a target="_blank" rel="noopener" href="https://leetcode.cn/problems/maximum-number-of-tasks-you-can-assign/">here</a>.</p>
<h3 id="analysis-3"><span class="post-title-index">13.13.1. </span><a class="markdownIt-Anchor" href="#analysis-3"></a> Analysis</h3>
<ol>
<li>The task need small strength is preferred.</li>
<li>The worker with large strength is preferred</li>
</ol>
<p>A wrong code</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maxTaskAssign</span>(<span class="params">self, tasks: <span class="type">List</span>[<span class="built_in">int</span>], workers: <span class="type">List</span>[<span class="built_in">int</span>], pills: <span class="built_in">int</span>, strength: <span class="built_in">int</span></span>) -&gt; <span class="built_in">int</span>:</span></span><br><span class="line">        tasks.sort()</span><br><span class="line">        workers.sort()</span><br><span class="line">        n =  <span class="built_in">len</span>(tasks)</span><br><span class="line">        m =  <span class="built_in">len</span>(workers)</span><br><span class="line">        ans = <span class="number">0</span></span><br><span class="line">        j = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(m):</span><br><span class="line">            <span class="keyword">if</span> j &lt; n:</span><br><span class="line">                <span class="comment"># A new worker waiting for task</span></span><br><span class="line">                <span class="keyword">if</span> workers[i] &gt;= tasks[j]:</span><br><span class="line">                    ans += <span class="number">1</span></span><br><span class="line">                    <span class="comment"># the task has been assigned, consider the next task</span></span><br><span class="line">                    j += <span class="number">1</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    <span class="comment"># if there is pills avaliable</span></span><br><span class="line">                    <span class="keyword">if</span> pills <span class="keyword">and</span> workers[i] + strength &gt;= tasks[j]:</span><br><span class="line">                        <span class="comment"># use this pill</span></span><br><span class="line">                        pills -= <span class="number">1</span></span><br><span class="line">                        ans += <span class="number">1</span></span><br><span class="line">                        j += <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></tbody></table></figure>
<p>This code prefers to use small strength workers, which is wrong. When the
workers can do <code>k</code> tasks, it must be the top <code>k</code> strength workers taking the
bottom <code>k</code> tasks.</p>
<p>The final answer.</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sortedcontainers <span class="keyword">import</span> SortedList</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maxTaskAssign</span>(<span class="params">self, tasks, workers, pills, strength</span>):</span></span><br><span class="line">        n, m = <span class="built_in">len</span>(tasks), <span class="built_in">len</span>(workers)</span><br><span class="line">        tasks.sort()</span><br><span class="line">        workers.sort()</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">check</span>(<span class="params">mid: <span class="built_in">int</span></span>) -&gt; <span class="built_in">bool</span>:</span></span><br><span class="line">            p = pills</span><br><span class="line">            <span class="comment">#  the workers needed to be check</span></span><br><span class="line">            ws = SortedList(workers[m - mid:])</span><br><span class="line">            <span class="comment"># tasks from large to small</span></span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(mid - <span class="number">1</span>, -<span class="number">1</span>, -<span class="number">1</span>):</span><br><span class="line">                <span class="keyword">if</span> ws[-<span class="number">1</span>] &gt;= tasks[i]:</span><br><span class="line">                    <span class="comment"># tasks[i] is assigned to ws[-1]</span></span><br><span class="line">                    ws.pop()</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    <span class="keyword">if</span> p == <span class="number">0</span>:</span><br><span class="line">                        <span class="comment"># if does not have pills anymore</span></span><br><span class="line">                        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">                    <span class="comment"># has pills</span></span><br><span class="line">                    <span class="comment"># Note: find the smallest worker can take the task by pill</span></span><br><span class="line">                    rep = ws.bisect_left(tasks[i] - strength)</span><br><span class="line">                    <span class="keyword">if</span> rep == <span class="built_in">len</span>(ws):</span><br><span class="line">                        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">                    p -= <span class="number">1</span></span><br><span class="line">                    ws.pop(rep)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># The scope of k needed to be checked if 1 checked false, answer is 0</span></span><br><span class="line">        <span class="comment"># if right = min(m, n) checked true, answer is right</span></span><br><span class="line">        left, right, ans = <span class="number">1</span>, <span class="built_in">min</span>(m, n), <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> left &lt;= right:</span><br><span class="line">            mid = (left + right) // <span class="number">2</span></span><br><span class="line">            <span class="keyword">if</span> check(mid):</span><br><span class="line">                <span class="comment"># if mid is true, then ans is larger than mid</span></span><br><span class="line">                <span class="comment"># find it in [mid + 1, right]</span></span><br><span class="line">                ans = mid</span><br><span class="line">                left = mid + <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="comment"># if mid is false, then ans is smaller than mid</span></span><br><span class="line">                <span class="comment"># find it in [left, mid - 1]</span></span><br><span class="line">                right = mid - <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></tbody></table></figure>
</body></html>
    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/Algorithm/" rel="tag"># Algorithm</a>
              <a href="/tags/Programming/" rel="tag"># Programming</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/posts/b8eefd24/" rel="prev" title="Experiments">
                  <i class="fa fa-chevron-left"></i> Experiments
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/posts/e537690a/" rel="next" title="Transformer and BERT">
                  Transformer and BERT <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






    <div class="comments gitalk-container"></div>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Xiang Ye</span>
</div>

<script language=javascript>
    function siteTime() {
        window.setTimeout("siteTime()", 1000);
        var seconds = 1000;
        var minutes = seconds * 60;
        var hours = minutes * 60;
        var days = hours * 24;
        var years = days * 365;
        var today = new Date();
        var todayYear = today.getFullYear();
        var todayMonth = today.getMonth() + 1;
        var todayDate = today.getDate();
        var todayHour = today.getHours();
        var todayMinute = today.getMinutes();
        var todaySecond = today.getSeconds();
        /* Date.UTC() -- 返回date对象距世界标准时间(UTC)1970年1月1日午夜之间的毫秒数(时间戳)
        year - 作为date对象的年份，为4位年份值
        month - 0-11之间的整数，做为date对象的月份
        day - 1-31之间的整数，做为date对象的天数
        hours - 0(午夜24点)-23之间的整数，做为date对象的小时数
        minutes - 0-59之间的整数，做为date对象的分钟数
        seconds - 0-59之间的整数，做为date对象的秒数
        microseconds - 0-999之间的整数，做为date对象的毫秒数 */
        var t1 = Date.UTC(2021, 11, 20, 00, 00, 00); //北京时间2018-2-13 00:00:00
        var t2 = Date.UTC(todayYear, todayMonth, todayDate, todayHour, todayMinute, todaySecond);
        var diff = t2 - t1;
        var diffYears = Math.floor(diff / years);
        var diffDays = Math.floor((diff / days) - diffYears * 365);
        var diffHours = Math.floor((diff - (diffYears * 365 + diffDays) * days) / hours);
        var diffMinutes = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours) / minutes);
        var diffSeconds = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours - diffMinutes * minutes) / seconds);
        document.getElementById("sitetime").innerHTML = "本站已运行 " +diffYears+" 年 "+diffDays + " 天 " + diffHours + " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
    }/*因为建站时间还没有一年，就将之注释掉了。需要的可以取消*/
    siteTime();
</script>

<span id="sitetime"></span>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  





  




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css" integrity="sha256-9/mhQQwkpU5okPfM5l0v3LnP9xtc6JK8dKW0/WlGaUc=" crossorigin="anonymous">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1.7.2/dist/gitalk.css" integrity="sha256-AJnUHL7dBv6PGaeyPQJcgQPDjt/Hn/PvYZde1iqfp8U=" crossorigin="anonymous">

<script class="next-config" data-name="gitalk" type="application/json">{"enable":true,"github_id":"xyegithub","repo":"myBlog","client_id":"04c4cf6b2c4c1b1762e9","client_secret":"799875cdf35ced5325ab3b57c96f98b6d64b73b2","admin_user":"xyegithub","distraction_free_mode":false,"proxy":"https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token","language":"en","js":{"url":"https://cdn.jsdelivr.net/npm/gitalk@1.7.2/dist/gitalk.min.js","integrity":"sha256-Pmj85ojLaPOWwRtlMJwmezB/Qg8BzvJp5eTzvXaYAfA="},"path_md5":"8ba922515fc9cf44f9da7abfd5dc3d4c"}</script>
<script src="/js/third-party/comments/gitalk.js"></script>

</body>
</html>
