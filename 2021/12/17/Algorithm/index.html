<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)">
<meta name="generator" content="Hexo 5.4.1">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/ye_32.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/ye_16.ico">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"yexiang.ml","root":"/","images":"/images","scheme":"Gemini","darkmode":true,"version":"8.8.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js"></script>
<meta name="description" content="遇到过精巧的算法设计">
<meta property="og:type" content="article">
<meta property="og:title" content="Algorithm">
<meta property="og:url" content="http://yexiang.ml/2021/12/17/Algorithm/index.html">
<meta property="og:site_name" content="Ye, Xiang&#39;s Blog">
<meta property="og:description" content="遇到过精巧的算法设计">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2021-12-17T08:26:10.000Z">
<meta property="article:modified_time" content="2022-05-11T09:17:06.136Z">
<meta property="article:author" content="Xiang Ye">
<meta property="article:tag" content="Algorithm">
<meta property="article:tag" content="Programming">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://yexiang.ml/2021/12/17/Algorithm/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"http://yexiang.ml/2021/12/17/Algorithm/","path":"2021/12/17/Algorithm/","title":"Algorithm"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Algorithm | Ye, Xiang's Blog</title>
  




  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">Ye, Xiang's Blog</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li>
        <li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a></li>
        <li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li>
        <li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li>
  </ul>
</nav>




</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#depth-first-search"><span class="nav-text">1.  Depth First Search</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#longest-increasing-path-in-a-matrix"><span class="nav-text">1.1.  Longest Increasing Path in a Matrix</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#keyboard"><span class="nav-text">1.2.  Keyboard</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#method-1-dfs"><span class="nav-text">1.2.1.  Method 1: dfs</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#method-2-dynamic-programming"><span class="nav-text">1.2.2.  Method 2: dynamic programming</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#dynamic-programming"><span class="nav-text">2.  Dynamic Programming</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#the-number-of-palindromes"><span class="nav-text">2.1.  The number of palindromes</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#knight-dialer"><span class="nav-text">2.2.  Knight Dialer</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#linked-list"><span class="nav-text">3.  Linked List</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#palindrome-linked-list"><span class="nav-text">3.1.  Palindrome Linked List</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#string"><span class="nav-text">4.  String</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#minimum-changes-to-make-alternating-binary-string"><span class="nav-text">4.1.  Minimum Changes to Make Alternating Binary String</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#sort"><span class="nav-text">5.  Sort</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#wiggle-sort-2"><span class="nav-text">5.1.  Wiggle Sort 2</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#rank-teams-by-votes"><span class="nav-text">5.2.  Rank Teams by Votes</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#number-game"><span class="nav-text">5.3.  Number Game</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#analysis"><span class="nav-text">5.3.1.  Analysis</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#brute-force-search"><span class="nav-text">6.  Brute Force Search</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#coordinate-with-maximum-network-quality-font-colormagenta2022-05-10font"><span class="nav-text">6.1.  Coordinate with Maximum Network Quality [2022-05-10]</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#analysis-2"><span class="nav-text">6.1.1.  Analysis</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#other"><span class="nav-text">7.  Other</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#the-gas-station"><span class="nav-text">7.1.  The Gas Station</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#maximum-number-of-tasks-you-can-assign-font-colormagenta2022-05-11font"><span class="nav-text">7.2.  Maximum Number of Tasks You Can Assign [2022-05-11]</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#analysis-3"><span class="nav-text">7.2.1.  Analysis</span></a></li></ol></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Xiang Ye"
      src="/images/avatar_100.jpg">
  <p class="site-author-name" itemprop="name">Xiang Ye</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">17</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">16</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">21</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>


  <div class="links-of-blogroll site-overview-item animated">
    <div class="links-of-blogroll-title"><i class="fa fa-globe fa-fw"></i>
      Links
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="https://github.com/xyegithub" title="https:&#x2F;&#x2F;github.com&#x2F;xyegithub" rel="noopener" target="_blank">My Github</a>
        </li>
    </ul>
  </div>

        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yexiang.ml/2021/12/17/Algorithm/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar_100.jpg">
      <meta itemprop="name" content="Xiang Ye">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ye, Xiang's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Algorithm
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2021-12-17 16:26:10" itemprop="dateCreated datePublished" datetime="2021-12-17T16:26:10+08:00">2021-12-17</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2022-05-11 17:17:06" itemprop="dateModified" datetime="2022-05-11T17:17:06+08:00">2022-05-11</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Programming/" itemprop="url" rel="index"><span itemprop="name">Programming</span></a>
        </span>
    </span>

  
</div>

            <div class="post-description">遇到过精巧的算法设计</div>
        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <html><head></head><body><h1 id="depth-first-search"><span class="post-title-index">1. </span><a class="markdownIt-Anchor" href="#depth-first-search"></a> Depth First Search</h1>
<h2 id="longest-increasing-path-in-a-matrix"><span class="post-title-index">1.1. </span><a class="markdownIt-Anchor" href="#longest-increasing-path-in-a-matrix"></a> Longest Increasing Path in a Matrix</h2>
<p>Given an <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi><mo>×</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">m \times n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">m</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span> integers matrix, return the length of the longest
increasing path in matrix.</p>
<p>Move direction: left, right, up, or down.</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line"></span><br><span class="line">    DIRS = [(-<span class="number">1</span>, <span class="number">0</span>), (<span class="number">1</span>, <span class="number">0</span>), (<span class="number">0</span>, -<span class="number">1</span>), (<span class="number">0</span>, <span class="number">1</span>)]</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">longestIncreasingPath</span>(<span class="params">self, matrix: <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">int</span>]]</span>) -&gt; <span class="built_in">int</span>:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> matrix:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="meta">        @lru_cache(<span class="params"><span class="literal">None</span></span>) </span><span class="comment"># save  the storage</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">find_max</span>(<span class="params">i, j</span>):</span></span><br><span class="line">        <span class="comment"># find the next value and try the four directions</span></span><br><span class="line">        <span class="comment"># return the longest direction.</span></span><br><span class="line">            max_ = <span class="number">1</span></span><br><span class="line">            <span class="keyword">for</span> dr <span class="keyword">in</span> Solution.DIRS:</span><br><span class="line">                try_i = i + dr[<span class="number">0</span>]</span><br><span class="line">                try_j = j + dr[<span class="number">1</span>]</span><br><span class="line">                <span class="comment"># the direction will be discarded if do not meet the condition</span></span><br><span class="line">                <span class="comment"># and a direction meet the condition will be searched for the next</span></span><br><span class="line">                <span class="comment"># value first.</span></span><br><span class="line">                <span class="keyword">if</span> <span class="number">0</span> &lt;= try_i <span class="keyword">and</span> try_i &lt; n <span class="keyword">and</span> <span class="number">0</span>&lt;= try_j <span class="keyword">and</span> try_j &lt; m <span class="keyword">and</span> \</span><br><span class="line">                matrix[i][j] &lt; matrix[try_i][try_j]:</span><br><span class="line">                    max_ = <span class="built_in">max</span>(max_, find_max(try_i, try_j) + <span class="number">1</span>)</span><br><span class="line">                    <span class="comment"># The value is increasing, so by setting `matrix[i][j] \</span></span><br><span class="line">                    <span class="comment"># &lt; matrix[try_i][try_j]`, a searched position will never</span></span><br><span class="line">                    <span class="comment"># be searched again.</span></span><br><span class="line">            <span class="keyword">return</span> max_</span><br><span class="line"></span><br><span class="line">        n, m = <span class="built_in">len</span>(matrix), <span class="built_in">len</span>(matrix[<span class="number">0</span>])</span><br><span class="line">        res = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span>  <span class="built_in">range</span>(m):</span><br><span class="line">                res = <span class="built_in">max</span>(res, find_max(i, j))</span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<h2 id="keyboard"><span class="post-title-index">1.2. </span><a class="markdownIt-Anchor" href="#keyboard"></a> Keyboard</h2>
<p>A keyboard only have 26 keys, <code>a~z</code>. Each key can be only typed <code>k</code> times at
most.</p>
<p>How many possible content there is, when the keyboard is typed <code>n</code> times?</p>
<h3 id="method-1-dfs"><span class="post-title-index">1.2.1. </span><a class="markdownIt-Anchor" href="#method-1-dfs"></a> Method 1: dfs</h3>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">   <span class="comment"># depth first search: from the first letter to the last letter</span></span><br><span class="line">   <span class="comment"># fill the n positions.</span></span><br><span class="line">   <span class="function"><span class="keyword">def</span> <span class="title">keyboard</span>(<span class="params">self, k: <span class="built_in">int</span>, n: <span class="built_in">int</span></span>) -&gt; <span class="built_in">int</span>:</span></span><br><span class="line">       MOD = <span class="number">1000000007</span></span><br><span class="line"></span><br><span class="line">       <span class="comment"># c is the number of remain letters</span></span><br><span class="line">       <span class="comment"># n is the number of letters needed to type in</span></span><br><span class="line">       <span class="comment"># k is the max number that each letter can type</span></span><br><span class="line"><span class="meta">       @lru_cache(<span class="params"><span class="literal">None</span></span>)</span></span><br><span class="line">       <span class="function"><span class="keyword">def</span> <span class="title">dfs</span>(<span class="params">c, n, k</span>):</span></span><br><span class="line">           <span class="keyword">if</span> n == <span class="number">0</span>:</span><br><span class="line">               <span class="comment"># no letters is needed any more</span></span><br><span class="line">               <span class="comment"># only 1 way: type nothing</span></span><br><span class="line">               <span class="comment"># pick 0 letters</span></span><br><span class="line">               <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">           <span class="keyword">if</span> c &lt;= <span class="number">0</span>:</span><br><span class="line">               <span class="comment"># no letter remained but n is not 0</span></span><br><span class="line">               <span class="comment"># this is a failed type scheme</span></span><br><span class="line">               <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">           res = <span class="number">0</span></span><br><span class="line">           <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="built_in">min</span>(n, k) + <span class="number">1</span>):</span><br><span class="line">           <span class="comment"># there are math.comb(n, i) ways to put i letters</span></span><br><span class="line">           <span class="comment"># into n position.</span></span><br><span class="line">               res += math.comb(n, i) * dfs(c-<span class="number">1</span>, n - i, k) % MOD</span><br><span class="line">           <span class="keyword">return</span> res % MOD</span><br><span class="line">       ans = dfs(<span class="number">26</span>, n, k)</span><br><span class="line">       <span class="keyword">return</span> ans % MOD</span><br></pre></td></tr></tbody></table></figure>
<h3 id="method-2-dynamic-programming"><span class="post-title-index">1.2.2. </span><a class="markdownIt-Anchor" href="#method-2-dynamic-programming"></a> Method 2: dynamic programming</h3>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">keyboard</span>(<span class="params">self, k: <span class="built_in">int</span>, n: <span class="built_in">int</span></span>) -&gt; <span class="built_in">int</span>:</span></span><br><span class="line">        MOD = <span class="number">1000000007</span></span><br><span class="line">        res = [[<span class="number">0</span> <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">27</span>)] <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(n + <span class="number">1</span>)]</span><br><span class="line">        <span class="comment"># res[i][j] is the number of possibilities when first j letters</span></span><br><span class="line">        <span class="comment"># is used to fill i positions.</span></span><br><span class="line">        <span class="comment"># when the position is 0, no matter how many letters are used.</span></span><br><span class="line">        <span class="comment"># there is only one possibility, i.e., filling nothing.</span></span><br><span class="line">        <span class="comment"># thus, res[0][i] are all 1.</span></span><br><span class="line">        res[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">27</span>):</span><br><span class="line">            res[<span class="number">0</span>][i] = <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># res[i][j] can be divided into several possibilities.</span></span><br><span class="line">        <span class="comment"># When 0 letter is filled for the $j^{th}$ letter, res[i][j-1]</span></span><br><span class="line">        <span class="comment"># when 1 letter is filled for the j-th letter, res[i-1][j-1]</span></span><br><span class="line">        <span class="comment"># * C_i^1</span></span><br><span class="line">        <span class="comment"># when 2 letters are filled for the j-th letter, res[i-2][j-1]</span></span><br><span class="line">        <span class="comment"># * C_i^2</span></span><br><span class="line">        <span class="comment"># C_i^m represent how many possibilities there are filling m of</span></span><br><span class="line">        <span class="comment"># the same letters into i positions.</span></span><br><span class="line">        <span class="comment"># m can be 0, but can not be larger than k or i.</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, n + <span class="number">1</span>):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">27</span>):</span><br><span class="line">                <span class="keyword">for</span> m <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">min</span>(i + <span class="number">1</span>, k + <span class="number">1</span>)):</span><br><span class="line">                    res[i][j] += res[i - m][j - <span class="number">1</span>] * math.comb(i, m)</span><br><span class="line">                    res[i][j] %= MOD</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> res[-<span class="number">1</span>][-<span class="number">1</span>] % MOD</span><br></pre></td></tr></tbody></table></figure>
<h1 id="dynamic-programming"><span class="post-title-index">2. </span><a class="markdownIt-Anchor" href="#dynamic-programming"></a> Dynamic Programming</h1>
<h2 id="the-number-of-palindromes"><span class="post-title-index">2.1. </span><a class="markdownIt-Anchor" href="#the-number-of-palindromes"></a> The number of palindromes</h2>
<p>Given a string return the number of the palindromes. The substrings are regarded
as different strings if they are start and end at different position.</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">countSubstrings</span>(<span class="params">self, s: <span class="built_in">str</span></span>) -&gt; <span class="built_in">int</span>:</span></span><br><span class="line">        n = <span class="built_in">len</span>(s)</span><br><span class="line">        res = [[<span class="literal">False</span> <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(n)] <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(n)]</span><br><span class="line">        <span class="comment"># if n == 0, there are 0 palindromes.</span></span><br><span class="line">        <span class="comment"># if n == 1, there are 1 palindromes.</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> n <span class="keyword">or</span> n == <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> n</span><br><span class="line">        ans = n</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">            res[<span class="number">0</span>][i] = <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n - <span class="number">1</span>):</span><br><span class="line">            res[<span class="number">1</span>][i] = s[i] == s[i + <span class="number">1</span>]</span><br><span class="line">            <span class="keyword">if</span> res[<span class="number">1</span>][i]:</span><br><span class="line">                ans += <span class="number">1</span></span><br><span class="line"><span class="comment"># if n == 2 it will not enter the following circle.</span></span><br><span class="line"><span class="comment"># if n &gt; 2 it will contnue to caculate palindromes whose length is larger than 2</span></span><br><span class="line">        <span class="keyword">for</span> l <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>, n):</span><br><span class="line">            <span class="keyword">for</span> st <span class="keyword">in</span> <span class="built_in">range</span>(n - l):</span><br><span class="line">                res[l][st] = res[l - <span class="number">2</span>][st + <span class="number">1</span>] <span class="keyword">and</span> s[st] == s[st + l]</span><br><span class="line">                <span class="keyword">if</span> res[l][st]:</span><br><span class="line">                    ans += <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></tbody></table></figure>
<h2 id="knight-dialer"><span class="post-title-index">2.2. </span><a class="markdownIt-Anchor" href="#knight-dialer"></a> Knight Dialer</h2>
<p>The topic is <a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/knight-dialer/">here</a>.</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">knightDialer</span>(<span class="params">self, N</span>):</span></span><br><span class="line">        MOD = <span class="number">10</span>**<span class="number">9</span> + <span class="number">7</span></span><br><span class="line">        <span class="comment"># From 0 can reach 4 and 6</span></span><br><span class="line">        <span class="comment"># From 1 can reach 6 and 8</span></span><br><span class="line">        moves = [[<span class="number">4</span>,<span class="number">6</span>],[<span class="number">6</span>,<span class="number">8</span>],[<span class="number">7</span>,<span class="number">9</span>],[<span class="number">4</span>,<span class="number">8</span>],[<span class="number">3</span>,<span class="number">9</span>,<span class="number">0</span>],[],</span><br><span class="line">                     [<span class="number">1</span>,<span class="number">7</span>,<span class="number">0</span>],[<span class="number">2</span>,<span class="number">6</span>],[<span class="number">1</span>,<span class="number">3</span>],[<span class="number">2</span>,<span class="number">4</span>]]</span><br><span class="line"></span><br><span class="line">        <span class="comment"># There is dp[i]==1 ways to reach i by one step</span></span><br><span class="line">        dp = [<span class="number">1</span>] * <span class="number">10</span></span><br><span class="line">        <span class="keyword">for</span> hops <span class="keyword">in</span> <span class="built_in">range</span>(N-<span class="number">1</span>):</span><br><span class="line">            dp2 = [<span class="number">0</span>] * <span class="number">10</span></span><br><span class="line">            <span class="keyword">for</span> node, count <span class="keyword">in</span> <span class="built_in">enumerate</span>(dp):</span><br><span class="line">              <span class="comment"># There are count way to reach node by hops + 1 steps</span></span><br><span class="line">                <span class="keyword">for</span> nei <span class="keyword">in</span> moves[node]:</span><br><span class="line">                    dp2[nei] += count</span><br><span class="line">                    dp2[nei] %= MOD</span><br><span class="line">              <span class="comment"># There are dp2[nei] way to reach nei by hops + 2 steps</span></span><br><span class="line">            dp = dp2</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">sum</span>(dp) % MOD</span><br></pre></td></tr></tbody></table></figure>
<h1 id="linked-list"><span class="post-title-index">3. </span><a class="markdownIt-Anchor" href="#linked-list"></a> Linked List</h1>
<h2 id="palindrome-linked-list"><span class="post-title-index">3.1. </span><a class="markdownIt-Anchor" href="#palindrome-linked-list"></a> Palindrome Linked List</h2>
<p>Given the <code>head</code> of a singly linked list, return <code>true</code> if it is a Palindrome.</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isPalindrome</span>(<span class="params">self, head: ListNode</span>) -&gt; <span class="built_in">bool</span>:</span></span><br><span class="line">        res = []</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> head:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        num = <span class="number">0</span></span><br><span class="line">        first = head</span><br><span class="line">        <span class="keyword">while</span> first.<span class="built_in">next</span>:</span><br><span class="line">            res.append(first.val)</span><br><span class="line">            num += <span class="number">1</span> <span class="comment"># count the length of the linked list</span></span><br><span class="line">            first = first.<span class="built_in">next</span></span><br><span class="line">        res.append(first.val) <span class="comment"># store all the node value</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(num // <span class="number">2</span> + <span class="number">1</span>): <span class="comment"># does not need to check all the nodes</span></span><br><span class="line">            <span class="keyword">if</span> res[i] != res[num - i]:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br></pre></td></tr></tbody></table></figure>
<p>If one want only use O(n) time and O(1) storage, must reverse the last half of
the linked list.</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isPalindrome</span>(<span class="params">self, head: ListNode</span>) -&gt; <span class="built_in">bool</span>:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> head <span class="keyword">or</span> <span class="keyword">not</span> head.<span class="built_in">next</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">find_the_middle</span>(<span class="params">node</span>):</span></span><br><span class="line">            slow = node</span><br><span class="line">            fast = node</span><br><span class="line">            <span class="keyword">while</span> fast.<span class="built_in">next</span> <span class="keyword">and</span> fast.<span class="built_in">next</span>.<span class="built_in">next</span>:</span><br><span class="line">                slow = slow.<span class="built_in">next</span></span><br><span class="line">                fast = fast.<span class="built_in">next</span>.<span class="built_in">next</span></span><br><span class="line">            second_start = slow.<span class="built_in">next</span></span><br><span class="line">            slow.<span class="built_in">next</span> = <span class="literal">None</span></span><br><span class="line">            <span class="keyword">return</span> second_start</span><br><span class="line">        second_start = find_the_middle(head)</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">reverse</span>(<span class="params">node</span>):</span></span><br><span class="line">            start = node</span><br><span class="line">            pre = node.<span class="built_in">next</span></span><br><span class="line">            start.<span class="built_in">next</span> = <span class="literal">None</span></span><br><span class="line">            <span class="keyword">while</span> pre:</span><br><span class="line">                cur = pre</span><br><span class="line">                pre = pre.<span class="built_in">next</span></span><br><span class="line">                cur.<span class="built_in">next</span> = start</span><br><span class="line">                start = cur</span><br><span class="line">            <span class="keyword">return</span> start</span><br><span class="line">        new_start = reverse(second_start)</span><br><span class="line">        <span class="keyword">while</span> head <span class="keyword">and</span> new_start:</span><br><span class="line">            <span class="keyword">if</span> head.val != new_start.val:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">            head = head.<span class="built_in">next</span></span><br><span class="line">            new_start = new_start.<span class="built_in">next</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br></pre></td></tr></tbody></table></figure>
<h1 id="string"><span class="post-title-index">4. </span><a class="markdownIt-Anchor" href="#string"></a> String</h1>
<h2 id="minimum-changes-to-make-alternating-binary-string"><span class="post-title-index">4.1. </span><a class="markdownIt-Anchor" href="#minimum-changes-to-make-alternating-binary-string"></a> Minimum Changes to Make Alternating Binary String</h2>
<p>You are given a string <code>s</code> consisting only of the characters <code>0</code> and <code>1</code>. In one
operation, you can change any <code>0</code> to <code>1</code> or vice versa.</p>
<p>The string is called alternating if no two adjacent characters are equal. Return
the minimum number of operations needed to make <code>s</code> alternating.</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">minOperations</span>(<span class="params">self, s: <span class="built_in">str</span></span>) -&gt; <span class="built_in">int</span>:</span></span><br><span class="line">        n = <span class="built_in">len</span>(s)</span><br><span class="line">        <span class="comment"># The ans is the operation needed to turn s into `010101`</span></span><br><span class="line">        ans = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">            <span class="keyword">if</span> i % <span class="number">2</span> <span class="keyword">and</span> s[i] != <span class="string">"1"</span>:</span><br><span class="line">              ans += <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> i % <span class="number">2</span> <span class="keyword">and</span> s[i] != <span class="string">"0"</span>:</span><br><span class="line">                ans += <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">min</span>(ans, n - ans)</span><br></pre></td></tr></tbody></table></figure>
<h1 id="sort"><span class="post-title-index">5. </span><a class="markdownIt-Anchor" href="#sort"></a> Sort</h1>
<h2 id="wiggle-sort-2"><span class="post-title-index">5.1. </span><a class="markdownIt-Anchor" href="#wiggle-sort-2"></a> Wiggle Sort 2</h2>
<p>Given an integer array <code>nums</code>, recorder it such that
<code>nums[0] &lt; nums[1] &gt; nums[2] &lt; nums[3] &gt; ...</code>. You may assume the input array
always has a valid answer.</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wiggleSort</span>(<span class="params">self, nums: <span class="type">List</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="literal">None</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        Do not return anything, modify nums in-place instead.</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        res = []</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> nums:</span><br><span class="line">            res.append(i)</span><br><span class="line">        res.sort()</span><br><span class="line">        n = <span class="built_in">len</span>(nums)</span><br><span class="line">        <span class="comment"># Because the smaller number is always filled first,</span></span><br><span class="line">        <span class="comment"># let len(smaller numbers) - len(larger numbers) == 1</span></span><br><span class="line">        <span class="comment"># if the len(nums) is odd.</span></span><br><span class="line">        <span class="comment"># if n is even, the small half from 0 to n // 2 - 1</span></span><br><span class="line">        <span class="comment"># the large half from n // 2 to n - 1</span></span><br><span class="line">        <span class="comment"># if n is odd, small number from 0 to n // 2</span></span><br><span class="line">        <span class="comment"># large number from n // 2 + 1 to n - 1,</span></span><br><span class="line">        <span class="comment"># Thus, no matter n is odd or even, small number from 0 to</span></span><br><span class="line">        <span class="comment"># (n + 1) // 2 - 1, large number from (n + 1) // 2 to n - 1</span></span><br><span class="line">        half = (n + <span class="number">1</span>) // <span class="number">2</span></span><br><span class="line">        <span class="comment"># to avoid that the last small number is equal to the first large</span></span><br><span class="line">        <span class="comment"># number, fill the small number from *last* to first,</span></span><br><span class="line">        <span class="comment"># also, fill the large number from last to *first*</span></span><br><span class="line">        <span class="comment"># ** means that the number should try to be apart.</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># if n is even, half * 2 == n</span></span><br><span class="line">        <span class="comment"># if n is odd, half * 2 == n + 1</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(half):</span><br><span class="line">            nums[<span class="number">2</span> * i] = res[half - <span class="number">1</span> -i]</span><br><span class="line">            <span class="comment"># len(large number) is smaller than len(small number),</span></span><br><span class="line">            <span class="comment"># thus, the when i = half -1, maybe no large number anymore</span></span><br><span class="line">            <span class="keyword">try</span>:</span><br><span class="line">                nums[<span class="number">2</span> * i + <span class="number">1</span>] = res[n - <span class="number">1</span> - i]</span><br><span class="line">            <span class="keyword">except</span>:</span><br><span class="line">                <span class="keyword">pass</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="rank-teams-by-votes"><span class="post-title-index">5.2. </span><a class="markdownIt-Anchor" href="#rank-teams-by-votes"></a> Rank Teams by Votes</h2>
<p>In a special ranking system, each voter gives a rank from highest to lowest to
all teams participated in the competition, e.g., one gives <code>ABC</code>, one gives
<code>BCA</code>.</p>
<p>The ordering of teams is decided by who received the most position-one votes. If
<code>A</code> received the most 1-st place Then <code>A</code> is the first. If <code>B</code> received the same
first place as <code>A</code> then compare the number of second place they received. If <code>A</code>
and <code>B</code> received all the places the same number then ordered them by their
letter, i.e., <code>A</code> is in front of <code>B</code>.</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">rankTeams</span>(<span class="params">self, votes: <span class="type">List</span>[<span class="built_in">str</span>]</span>) -&gt; <span class="built_in">str</span>:</span></span><br><span class="line">        n = <span class="built_in">len</span>(votes[<span class="number">0</span>])</span><br><span class="line">        <span class="comment"># initialization of a hash map, the default value is list [0, 0, ..., 0]</span></span><br><span class="line">        <span class="comment"># <span class="doctag">NOTE:</span> How to set defaultdict by lambda without input, it is indeed a function factory.</span></span><br><span class="line">        ranking = collections.defaultdict(<span class="keyword">lambda</span>: [<span class="number">0</span>] * n)</span><br><span class="line">         <span class="comment"># count the vote situation for each team, vid is the name of teams.</span></span><br><span class="line">        <span class="keyword">for</span> vote <span class="keyword">in</span> votes:</span><br><span class="line">            <span class="keyword">for</span> i, vid <span class="keyword">in</span> <span class="built_in">enumerate</span>(vote):</span><br><span class="line">                ranking[vid][i] += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># result is a list, e.g., [('A', [5, 0, 0]), ('B', [0, 2, 3]), ('C', [0, 3, 2])]</span></span><br><span class="line">        result = <span class="built_in">list</span>(ranking.items())</span><br><span class="line">        <span class="comment"># sort the order of letter -ord(x[0]) is regard as the last criterion</span></span><br><span class="line">        result.sort(key=<span class="keyword">lambda</span> x: (x[<span class="number">1</span>], -<span class="built_in">ord</span>(x[<span class="number">0</span>])), reverse=<span class="literal">True</span>)</span><br><span class="line">        <span class="comment"># return the ordered vid</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">""</span>.join([vid <span class="keyword">for</span> vid, rank <span class="keyword">in</span> result])</span><br></pre></td></tr></tbody></table></figure>
<h2 id="number-game"><span class="post-title-index">5.3. </span><a class="markdownIt-Anchor" href="#number-game"></a> Number Game</h2>
<p>Give a list of numbers. You can <code>+ 1</code> or <code>- 1</code> at position <code>i</code> which is regarded
as one operator at position <code>i</code>. Please return the minimum operators for
position <code>i</code> to make the list of numbers satisfying
<code>nums[a] + 1 == nums[a + 1], 0 &lt;= a &lt;= i</code>. The original topic is
<a target="_blank" rel="noopener" href="https://leetcode.cn/problems/5TxKeK/">here</a>.</p>
<h3 id="analysis"><span class="post-title-index">5.3.1. </span><a class="markdownIt-Anchor" href="#analysis"></a> Analysis</h3>
<p>To satisfying <code>nums[a] + 1 == nums[a + 1]</code>, we do not know which number it is
for position <code>i</code> which makes the operators minimum.</p>
<p>Thus we can transform this problem, we make <code>nums[a] = nums[a] - a</code>. Then we
only need to make each position of the <code>nums</code> all equal to the same number. Then
the minimum way is to set the number as the median number of <code>nums</code>.</p>
<p><font color="red">NOTE:</font> it is the median number, not the mean value. If the
length of the list is even then the median is the mean of the middle two
numbers.</p>
<p>It is easy to prove that the mean value can not bring the minimum operators. For
examples, for list <code>[1, 3, 8]</code> the mean value is <code>4</code> and it needs
<code>3 + 1 + 4 = 8</code> operators to make the list into <code>[4, 4, 4]</code>. The median is <code>3</code>
and it needs only <code>2 + 0 + 5 = 7</code> operators to make the list into <code>[3, 3, 3]</code>.</p>
<p><font color="blue">The reason for why it is the median.</font></p>
<p>Let <code>s</code> be the value that each position will reach and <code>m</code> be the median. If <code>s</code>
is large than <code>m</code>, then <code>#(nums[i] &gt; s) &lt; #(nums[i] &lt; s)</code>. If set <code>s = s - 1</code>,
<code>nums[i]</code> will add <code>1</code> operator if <code>nums[i] &gt; s</code> and <code>nums[i]</code> will decrease <code>1</code>
operator if <code>nums[i] &lt; s</code>. For <code>#(nums[i] &gt; s) &lt; #(nums[i] &lt; s)</code>, the total
number of operators will decrease. It will always decrease until <code>s == m</code>, i.e.,
<code>#(nums[i] &gt; s) = #(nums[i] &lt; s)</code>.</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> typing <span class="keyword">import</span> <span class="type">List</span></span><br><span class="line"><span class="keyword">from</span> heapq <span class="keyword">import</span> heappush, heappushpop</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MedianFinder</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.small = []  <span class="comment"># 大顶堆</span></span><br><span class="line">        self.large = []  <span class="comment"># 小顶堆</span></span><br><span class="line">        self.leftSum = <span class="number">0</span></span><br><span class="line">        self.rightSum = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">add</span>(<span class="params">self, num: <span class="built_in">int</span></span>) -&gt; <span class="literal">None</span>:</span></span><br><span class="line">        <span class="comment"># if #small == #large then put the num in large</span></span><br><span class="line">        <span class="comment"># How to push it in large.</span></span><br><span class="line">        <span class="comment"># <span class="doctag">NOTE:</span> not put it in large directly, find the largest value then put it in to the large.</span></span><br><span class="line">        <span class="comment"># This ensure that large is always larger than small.</span></span><br><span class="line">        <span class="comment"># #small always smaller than #large and only larger than 1</span></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(self.small) == <span class="built_in">len</span>(self.large):</span><br><span class="line">            leftMax = -heappushpop(self.small, -num)</span><br><span class="line">            heappush(self.large, leftMax)</span><br><span class="line">            self.leftSum += num - leftMax</span><br><span class="line">            self.rightSum += leftMax</span><br><span class="line">        <span class="keyword">elif</span> <span class="built_in">len</span>(self.small) &lt; <span class="built_in">len</span>(self.large):</span><br><span class="line">            rightMin = heappushpop(self.large, num)</span><br><span class="line">            heappush(self.small, -rightMin)</span><br><span class="line">            self.leftSum += rightMin</span><br><span class="line">            self.rightSum += num - rightMin</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getMedian</span>(<span class="params">self</span>) -&gt; <span class="built_in">float</span>:</span></span><br><span class="line">     <span class="comment"># self.large[0] is the smallest value in large</span></span><br><span class="line">     <span class="comment"># -self.small[0] is the largest value in small</span></span><br><span class="line">     <span class="comment"># get the median if the length is odd, else the mean of the two middle numbers</span></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(self.small) == <span class="built_in">len</span>(self.large):</span><br><span class="line">            <span class="keyword">return</span> (self.large[<span class="number">0</span>] - self.small[<span class="number">0</span>]) / <span class="number">2</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> self.large[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getDiffSum</span>(<span class="params">self</span>) -&gt; <span class="built_in">float</span>:</span></span><br><span class="line">        median = self.getMedian()</span><br><span class="line">        <span class="keyword">return</span> self.rightSum - <span class="built_in">len</span>(self.large) * median + <span class="built_in">len</span>(self.small) * median - self.leftSum</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">numsGame</span>(<span class="params">self, nums: <span class="type">List</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="type">List</span>[<span class="built_in">int</span>]:</span></span><br><span class="line">        MOD = <span class="built_in">int</span>(<span class="number">1e9</span> + <span class="number">7</span>)</span><br><span class="line">        res = []</span><br><span class="line">        medianFinder = MedianFinder()</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(nums)):</span><br><span class="line">            normalized = nums[i] - i</span><br><span class="line">            medianFinder.add(normalized)</span><br><span class="line">            res.append(<span class="built_in">int</span>(medianFinder.getDiffSum() % MOD))</span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></tbody></table></figure>
<h1 id="brute-force-search"><span class="post-title-index">6. </span><a class="markdownIt-Anchor" href="#brute-force-search"></a> Brute Force Search</h1>
<h2 id="coordinate-with-maximum-network-quality-font-colormagenta2022-05-10font"><span class="post-title-index">6.1. </span><a class="markdownIt-Anchor" href="#coordinate-with-maximum-network-quality-font-colormagenta2022-05-10font"></a> Coordinate with Maximum Network Quality <font color="magenta">[2022-05-10]</font></h2>
<p>An array of network towers <code>towers</code> is given, where
<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>t</mi><mi>o</mi><mi>w</mi><mi>e</mi><mi>r</mi><mi>s</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo>=</mo><mo stretchy="false">[</mo><msub><mi>x</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>y</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>q</mi><mi>i</mi></msub><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">towers[i] = [x_i, y_i, q_i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">t</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.02691em;">w</span><span class="mord mathdefault">e</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">s</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span>. <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>x</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">x_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> and <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>y</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">y_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> are the integral coordinates of
the network tower location and <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>q</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">q_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> is the network quality factor. The network
quality of <code>towers[i]</code> at <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x, y)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span></span> is <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>q</mi><mi>i</mi></msub><mi mathvariant="normal">/</mi><mo stretchy="false">(</mo><mn>1</mn><mo>+</mo><mi>d</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">q_i / (1 + d)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">/</span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">d</span><span class="mclose">)</span></span></span></span> where
<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi><mo>=</mo><msqrt><mrow><mo stretchy="false">(</mo><mi>x</mi><mo>−</mo><msub><mi>x</mi><mi>i</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>+</mo><mo stretchy="false">(</mo><mi>y</mi><mo>−</mo><msub><mi>y</mi><mi>i</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow></msqrt></mrow><annotation encoding="application/x-tex">d = \sqrt{(x - x_i)^2 + (y - y_i)^2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">d</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.24em;vertical-align:-0.30499999999999994em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.935em;"><span class="svg-align" style="top:-3.2em;"><span class="pstrut" style="height:3.2em;"></span><span class="mord" style="padding-left:1em;"><span class="mopen">(</span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.740108em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.740108em;"><span style="top:-2.9890000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-2.8950000000000005em;"><span class="pstrut" style="height:3.2em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.28em;"><svg width="400em" height="1.28em" viewBox="0 0 400000 1296" preserveAspectRatio="xMinYMin slice"><path d="M263,681c0.7,0,18,39.7,52,119c34,79.3,68.167,
158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120c340,-704.7,510.7,-1060.3,512,-1067
c4.7,-7.3,11,-11,19,-11H40000v40H1012.3s-271.3,567,-271.3,567c-38.7,80.7,-84,
175,-136,283c-52,108,-89.167,185.3,-111.5,232c-22.3,46.7,-33.8,70.3,-34.5,71
c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1s-109,-253,-109,-253c-72.7,-168,-109.3,
-252,-110,-252c-10.7,8,-22,16.7,-34,26c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26
s76,-59,76,-59s76,-60,76,-60z M1001 80H40000v40H1012z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.30499999999999994em;"><span></span></span></span></span></span></span></span></span>.</p>
<p>You are also given an integer <code>radius</code>. All the tower is not reachable if and
only if <code>d &gt; radius</code>.</p>
<p>The network quality of a location is the sum of network qualities from all
towers. Return the location with the maximum network quality.</p>
<p>If there are multiple coordinates with the same network quality, return the
lexicographically minimum non-negative coordinate.</p>
<p>Constraints:</p>
<ol>
<li>1 &lt;= towers.length &lt;= 50</li>
<li>towers[i].length == 3</li>
<li>0 &lt;= <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>x</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">x_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>, <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>y</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">y_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>, <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>q</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">q_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> &lt;=50</li>
<li>1 &lt;= radius &lt;= 50</li>
</ol>
<h3 id="analysis-2"><span class="post-title-index">6.1.1. </span><a class="markdownIt-Anchor" href="#analysis-2"></a> Analysis</h3>
<p>For 0 &lt;= <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>x</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">x_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>, <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>y</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">y_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>, <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>q</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">q_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> &lt;=50, if x or y is large than 51, it can not be the
answer. All the network quality will be stronger when x or y is smaller. Thus,
we do only need to search within [0, 51].</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> math</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">bestCoordinate</span>(<span class="params">self, towers: <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">int</span>]], radius: <span class="built_in">int</span></span>) -&gt; <span class="type">List</span>[<span class="built_in">int</span>]:</span></span><br><span class="line">        max_signal, x, y = <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">        <span class="comment"># search from small coordinate to large then we will get the small coordinate first</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">51</span>):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">51</span>):</span><br><span class="line">                signal_ij = <span class="number">0</span></span><br><span class="line">                <span class="keyword">for</span> tower <span class="keyword">in</span> towers:</span><br><span class="line">                    delta_x, delta_y = tower[<span class="number">0</span>] - i, tower[<span class="number">1</span>] - j</span><br><span class="line">                    d = math.sqrt(delta_x * delta_x + delta_y * delta_y)</span><br><span class="line">                    <span class="comment"># if &gt; radius no quality</span></span><br><span class="line">                    <span class="keyword">if</span> d &gt; radius:</span><br><span class="line">                        <span class="keyword">continue</span></span><br><span class="line">                      <span class="comment"># use floor</span></span><br><span class="line">                    signal_ij += math.floor(tower[<span class="number">2</span>] / (<span class="number">1</span> + d))</span><br><span class="line">                <span class="keyword">if</span> signal_ij &gt; max_signal:</span><br><span class="line">                    max_signal, x, y = signal_ij, i, j</span><br><span class="line">        <span class="keyword">return</span> [x, y]</span><br></pre></td></tr></tbody></table></figure>
<h1 id="other"><span class="post-title-index">7. </span><a class="markdownIt-Anchor" href="#other"></a> Other</h1>
<h2 id="the-gas-station"><span class="post-title-index">7.1. </span><a class="markdownIt-Anchor" href="#the-gas-station"></a> The Gas Station</h2>
<p>There are <code>n</code> stations along a circular route, where the amount of gas at the
<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>i</mi><mrow><mi>t</mi><mi>h</mi></mrow></msup></mrow><annotation encoding="application/x-tex">i^{th}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.849108em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">i</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">t</span><span class="mord mathdefault mtight">h</span></span></span></span></span></span></span></span></span></span></span></span> station is gas[i].</p>
<p>A car costs cost[i] of gas to travel from the <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>i</mi><mrow><mi>t</mi><mi>h</mi></mrow></msup></mrow><annotation encoding="application/x-tex">i^{th}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.849108em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">i</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">t</span><span class="mord mathdefault mtight">h</span></span></span></span></span></span></span></span></span></span></span></span> station to its next
<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><mi>i</mi><mo>+</mo><mn>1</mn><msup><mo stretchy="false">)</mo><mrow><mi>t</mi><mi>h</mi></mrow></msup></mrow><annotation encoding="application/x-tex">(i + 1)^{th}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.099108em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">t</span><span class="mord mathdefault mtight">h</span></span></span></span></span></span></span></span></span></span></span></span> station.</p>
<p>Can the car run a circle. If can, return the start station. If not, return -1.
If there exists a solution, it is guaranteed to be the unique.</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">canCompleteCircuit</span>(<span class="params">self, gas: <span class="type">List</span>[<span class="built_in">int</span>], cost: <span class="type">List</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="built_in">int</span></span></span><br><span class="line"><span class="function">        n = <span class="built_in">len</span>(gas)</span></span><br><span class="line"><span class="function">        res = [0] * n</span></span><br><span class="line"><span class="function">        # a car <span class="keyword">pass</span> station i, it can get gas[i] <span class="keyword">and</span> cost</span></span><br><span class="line"><span class="function">        # cost[i]. Thus gets gas[i] - cost[i].</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">        # <span class="keyword">if</span> <span class="keyword">in</span> station i, gas[i] - cost[i] &gt;= 0, it can</span></span><br><span class="line"><span class="function">        # arrive the <span class="built_in">next</span> station.</span></span><br><span class="line"><span class="function">        # after arrive the <span class="built_in">next</span> station, <span class="keyword">and</span> gets the station</span></span><br><span class="line"><span class="function">        # <span class="keyword">if</span> the remain &gt;= 0 it can gets the <span class="built_in">next</span> <span class="built_in">next</span> station.</span></span><br><span class="line"><span class="function">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span></span><br><span class="line">            res[i] = gas[i] - cost[i]</span><br><span class="line">        first = <span class="number">0</span></span><br><span class="line">        second = <span class="number">0</span></span><br><span class="line">        sum_ = res[<span class="number">0</span>]</span><br><span class="line">        key = <span class="literal">False</span></span><br><span class="line">        <span class="comment"># second represents the station the car already getting.</span></span><br><span class="line">        <span class="comment"># first represents the starting station.</span></span><br><span class="line">        <span class="comment"># sum_ represents if the car can get the next staion.</span></span><br><span class="line">        <span class="comment"># if sum_ &gt;= 0, it can, else, it can not.</span></span><br><span class="line">        <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">            <span class="keyword">if</span> sum_ &gt;= <span class="number">0</span>:</span><br><span class="line">                second += <span class="number">1</span></span><br><span class="line">                <span class="keyword">if</span> second == n:</span><br><span class="line">                    second = <span class="number">0</span></span><br><span class="line">                    key = <span class="literal">True</span></span><br><span class="line">                <span class="keyword">if</span> key <span class="keyword">and</span> second == first:</span><br><span class="line">                    <span class="keyword">return</span> first</span><br><span class="line">                sum_ += res[second]</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                sum_ -= res[first]</span><br><span class="line">                first += <span class="number">1</span></span><br><span class="line">                <span class="comment"># from 0 to n, first do not find an answer, return -1.</span></span><br><span class="line">                <span class="keyword">if</span> first == n:</span><br><span class="line">                    <span class="keyword">return</span> -<span class="number">1</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    <span class="keyword">if</span> first &gt; second:</span><br><span class="line">                        second += <span class="number">1</span></span><br><span class="line">                        sum_ += res[second</span><br></pre></td></tr></tbody></table></figure>
<p>Consider this, if y is the first station that the car can not arrive from x.
That is to say <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msubsup><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mi>y</mi></mrow><mi>x</mi></msubsup><mi>r</mi><mi>e</mi><mi>s</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo>&lt;</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\sum_{i = y}^x res[i] &lt; 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.24011em;vertical-align:-0.43581800000000004em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:-0.0000050000000000050004em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.804292em;"><span style="top:-2.40029em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mrel mtight">=</span><span class="mord mathdefault mtight" style="margin-right:0.03588em;">y</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.43581800000000004em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord mathdefault">e</span><span class="mord mathdefault">s</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>. For a station z between x and y. It
can arrive z from x, which means the sum <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>&gt;</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">&gt; 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>. Then from z to y, the sum is
definitely <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>&lt;</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">&lt; 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>. It can not arrive y from z.</p>
<p>Thus, if a car can not arrive y from x, it can not arrive y from any station
between x and y. It is no need to search such stations.</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">canCompleteCircuit</span>(<span class="params">self, gas: <span class="type">List</span>[<span class="built_in">int</span>], cost: <span class="type">List</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="built_in">int</span>:</span></span><br><span class="line">        n = <span class="built_in">len</span>(gas)</span><br><span class="line">        res = [<span class="number">0</span>] * n</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">            res[i] = gas[i] - cost[i]</span><br><span class="line">        first = <span class="number">0</span></span><br><span class="line">        second = <span class="number">0</span></span><br><span class="line">        sum_ = res[<span class="number">0</span>]</span><br><span class="line">        key = <span class="literal">False</span></span><br><span class="line">        <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">            <span class="keyword">if</span> sum_ &gt;= <span class="number">0</span>:</span><br><span class="line">                second += <span class="number">1</span></span><br><span class="line">                <span class="keyword">if</span> second == n:</span><br><span class="line">                    second = <span class="number">0</span></span><br><span class="line">                    key = <span class="literal">True</span></span><br><span class="line">                <span class="keyword">if</span> key <span class="keyword">and</span> second == first:</span><br><span class="line">                    <span class="keyword">return</span> first</span><br><span class="line">                sum_ += res[second]</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">            <span class="comment"># if can not arrive second + 1, then</span></span><br><span class="line">            <span class="comment"># starting from second + 1</span></span><br><span class="line">                second += <span class="number">1</span></span><br><span class="line">                first = second</span><br><span class="line">                <span class="comment"># if the new starting point equal or bigger than</span></span><br><span class="line">                <span class="comment"># n, first move from 0 to n fails to find.</span></span><br><span class="line">                <span class="comment"># if key is True, second + 1 is actually larger than</span></span><br><span class="line">                <span class="comment"># n, first move from 0 to n fails to find.</span></span><br><span class="line">                <span class="keyword">if</span> first == n <span class="keyword">or</span> key:</span><br><span class="line">                    <span class="keyword">return</span> -<span class="number">1</span></span><br><span class="line">                sum_ = res[first]</span><br></pre></td></tr></tbody></table></figure>
<h2 id="maximum-number-of-tasks-you-can-assign-font-colormagenta2022-05-11font"><span class="post-title-index">7.2. </span><a class="markdownIt-Anchor" href="#maximum-number-of-tasks-you-can-assign-font-colormagenta2022-05-11font"></a> Maximum Number of Tasks You Can Assign <font color="magenta">[2022-05-11]</font></h2>
<p>The topic is
<a target="_blank" rel="noopener" href="https://leetcode.cn/problems/maximum-number-of-tasks-you-can-assign/">here</a>.</p>
<h3 id="analysis-3"><span class="post-title-index">7.2.1. </span><a class="markdownIt-Anchor" href="#analysis-3"></a> Analysis</h3>
<ol>
<li>The task need small strength is preferred.</li>
<li>The worker with large strength is preferred</li>
</ol>
<p>A wrong code</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maxTaskAssign</span>(<span class="params">self, tasks: <span class="type">List</span>[<span class="built_in">int</span>], workers: <span class="type">List</span>[<span class="built_in">int</span>], pills: <span class="built_in">int</span>, strength: <span class="built_in">int</span></span>) -&gt; <span class="built_in">int</span>:</span></span><br><span class="line">        tasks.sort()</span><br><span class="line">        workers.sort()</span><br><span class="line">        n =  <span class="built_in">len</span>(tasks)</span><br><span class="line">        m =  <span class="built_in">len</span>(workers)</span><br><span class="line">        ans = <span class="number">0</span></span><br><span class="line">        j = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(m):</span><br><span class="line">            <span class="keyword">if</span> j &lt; n:</span><br><span class="line">                <span class="comment"># A new worker waiting for task</span></span><br><span class="line">                <span class="keyword">if</span> workers[i] &gt;= tasks[j]:</span><br><span class="line">                    ans += <span class="number">1</span></span><br><span class="line">                    <span class="comment"># the task has been assigned, consider the next task</span></span><br><span class="line">                    j += <span class="number">1</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    <span class="comment"># if there is pills avaliable</span></span><br><span class="line">                    <span class="keyword">if</span> pills <span class="keyword">and</span> workers[i] + strength &gt;= tasks[j]:</span><br><span class="line">                        <span class="comment"># use this pill</span></span><br><span class="line">                        pills -= <span class="number">1</span></span><br><span class="line">                        ans += <span class="number">1</span></span><br><span class="line">                        j += <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></tbody></table></figure>
<p>This code prefers to use small strength workers, which is wrong. When the
workers can do <code>k</code> tasks, it must be the top <code>k</code> strength workers taking the
bottom <code>k</code> tasks.</p>
<p>The final answer.</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sortedcontainers <span class="keyword">import</span> SortedList</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maxTaskAssign</span>(<span class="params">self, tasks, workers, pills, strength</span>):</span></span><br><span class="line">        n, m = <span class="built_in">len</span>(tasks), <span class="built_in">len</span>(workers)</span><br><span class="line">        tasks.sort()</span><br><span class="line">        workers.sort()</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">check</span>(<span class="params">mid: <span class="built_in">int</span></span>) -&gt; <span class="built_in">bool</span>:</span></span><br><span class="line">            p = pills</span><br><span class="line">            <span class="comment">#  the workers needed to be check</span></span><br><span class="line">            ws = SortedList(workers[m - mid:])</span><br><span class="line">            <span class="comment"># tasks from large to small</span></span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(mid - <span class="number">1</span>, -<span class="number">1</span>, -<span class="number">1</span>):</span><br><span class="line">                <span class="keyword">if</span> ws[-<span class="number">1</span>] &gt;= tasks[i]:</span><br><span class="line">                    <span class="comment"># tasks[i] is assigned to ws[-1]</span></span><br><span class="line">                    ws.pop()</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    <span class="keyword">if</span> p == <span class="number">0</span>:</span><br><span class="line">                        <span class="comment"># if does not have pills anymore</span></span><br><span class="line">                        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">                    <span class="comment"># has pills</span></span><br><span class="line">                    <span class="comment"># Note: find the smallest worker can take the task by pill</span></span><br><span class="line">                    rep = ws.bisect_left(tasks[i] - strength)</span><br><span class="line">                    <span class="keyword">if</span> rep == <span class="built_in">len</span>(ws):</span><br><span class="line">                        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">                    p -= <span class="number">1</span></span><br><span class="line">                    ws.pop(rep)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># The scope of k needed to be checked if 1 checked false, answer is 0</span></span><br><span class="line">        <span class="comment"># if right = min(m, n) checked true, answer is right</span></span><br><span class="line">        left, right, ans = <span class="number">1</span>, <span class="built_in">min</span>(m, n), <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> left &lt;= right:</span><br><span class="line">            mid = (left + right) // <span class="number">2</span></span><br><span class="line">            <span class="keyword">if</span> check(mid):</span><br><span class="line">                <span class="comment"># if mid is true, then ans is larger than mid</span></span><br><span class="line">                <span class="comment"># find it in [mid + 1, right]</span></span><br><span class="line">                ans = mid</span><br><span class="line">                left = mid + <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="comment"># if mid is false, then ans is smaller than mid</span></span><br><span class="line">                <span class="comment"># find it in [left, mid - 1]</span></span><br><span class="line">                right = mid - <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></tbody></table></figure>
</body></html>
    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/Algorithm/" rel="tag"># Algorithm</a>
              <a href="/tags/Programming/" rel="tag"># Programming</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2021/12/17/Experiments/" rel="prev" title="Experiments">
                  <i class="fa fa-chevron-left"></i> Experiments
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2021/12/18/Transformer-and-BERT/" rel="next" title="Transformer and BERT">
                  Transformer and BERT <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Xiang Ye</span>
</div>

<script language=javascript>
    function siteTime() {
        window.setTimeout("siteTime()", 1000);
        var seconds = 1000;
        var minutes = seconds * 60;
        var hours = minutes * 60;
        var days = hours * 24;
        var years = days * 365;
        var today = new Date();
        var todayYear = today.getFullYear();
        var todayMonth = today.getMonth() + 1;
        var todayDate = today.getDate();
        var todayHour = today.getHours();
        var todayMinute = today.getMinutes();
        var todaySecond = today.getSeconds();
        /* Date.UTC() -- 返回date对象距世界标准时间(UTC)1970年1月1日午夜之间的毫秒数(时间戳)
        year - 作为date对象的年份，为4位年份值
        month - 0-11之间的整数，做为date对象的月份
        day - 1-31之间的整数，做为date对象的天数
        hours - 0(午夜24点)-23之间的整数，做为date对象的小时数
        minutes - 0-59之间的整数，做为date对象的分钟数
        seconds - 0-59之间的整数，做为date对象的秒数
        microseconds - 0-999之间的整数，做为date对象的毫秒数 */
        var t1 = Date.UTC(2021, 11, 20, 00, 00, 00); //北京时间2018-2-13 00:00:00
        var t2 = Date.UTC(todayYear, todayMonth, todayDate, todayHour, todayMinute, todaySecond);
        var diff = t2 - t1;
        var diffYears = Math.floor(diff / years);
        var diffDays = Math.floor((diff / days) - diffYears * 365);
        var diffHours = Math.floor((diff - (diffYears * 365 + diffDays) * days) / hours);
        var diffMinutes = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours) / minutes);
        var diffSeconds = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours - diffMinutes * minutes) / seconds);
        document.getElementById("sitetime").innerHTML = "本站已运行 " +diffYears+" 年 "+diffDays + " 天 " + diffHours + " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
    }/*因为建站时间还没有一年，就将之注释掉了。需要的可以取消*/
    siteTime();
</script>

<span id="sitetime"></span>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  





  




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css" integrity="sha256-9/mhQQwkpU5okPfM5l0v3LnP9xtc6JK8dKW0/WlGaUc=" crossorigin="anonymous">



</body>
</html>
